---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.20.0
  name: debugsessions.breakglass.t-caas.telekom.com
spec:
  group: breakglass.t-caas.telekom.com
  names:
    kind: DebugSession
    listKind: DebugSessionList
    plural: debugsessions
    shortNames:
    - ds
    singular: debugsession
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Session state
      jsonPath: .status.state
      name: State
      type: string
    - description: Target cluster
      jsonPath: .spec.cluster
      name: Cluster
      type: string
    - description: Debug template
      jsonPath: .spec.templateRef
      name: Template
      type: string
    - description: Session owner
      jsonPath: .spec.requestedBy
      name: Requested By
      type: string
    - description: Expiration time
      jsonPath: .status.expiresAt
      name: Expires At
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          DebugSession represents an active or past debug session.
          Debug sessions provide temporary, controlled access to debug pods.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: DebugSessionSpec defines the desired state of DebugSession.
            properties:
              approvalReasonConfig:
                description: |-
                  approvalReasonConfig is a snapshot of the template's approvalReason configuration at session creation time.
                  This stores whether an approval/rejection reason is mandatory and its description.
                  Stored as a snapshot so the session remains self-contained and doesn't require template lookups.
                properties:
                  description:
                    description: description is help text displayed to approvers.
                    type: string
                  mandatory:
                    default: false
                    description: mandatory requires a reason for all approval/rejection
                      actions.
                    type: boolean
                  mandatoryForRejection:
                    default: true
                    description: mandatoryForRejection requires a reason specifically
                      for rejections.
                    type: boolean
                  minLength:
                    default: 10
                    description: minLength is the minimum character length for the
                      reason.
                    format: int32
                    minimum: 0
                    type: integer
                type: object
              bindingRef:
                description: |-
                  bindingRef references the DebugSessionClusterBinding used to create this session.
                  If set, indicates this session was created via a binding rather than direct template reference.
                properties:
                  name:
                    description: name is the name of the DebugSessionClusterBinding.
                    minLength: 1
                    type: string
                  namespace:
                    description: namespace is the namespace of the DebugSessionClusterBinding.
                    minLength: 1
                    type: string
                required:
                - name
                - namespace
                type: object
              cluster:
                description: cluster is the name of the target cluster.
                type: string
              extraDeployValues:
                additionalProperties:
                  x-kubernetes-preserve-unknown-fields: true
                description: |-
                  extraDeployValues contains user-provided values for extraDeployVariables.
                  Keys must match variable names defined in the template.
                  Values are validated against the variable's inputType and validation rules.
                type: object
              invitedParticipants:
                description: invitedParticipants lists users invited to join the session.
                items:
                  type: string
                type: array
              nodeSelector:
                additionalProperties:
                  type: string
                description: |-
                  nodeSelector restricts debug pods to specific nodes.
                  Merged with template's nodeSelector using OR logic.
                type: object
              reason:
                description: reason explains why the debug session is needed.
                type: string
              requestReasonConfig:
                description: |-
                  requestReasonConfig is a snapshot of the template's requestReason configuration at session creation time.
                  This stores whether a request reason was mandatory, min/max length, and description.
                  Stored as a snapshot so the session remains self-contained and doesn't require template lookups.
                properties:
                  description:
                    description: description is help text displayed to users when
                      entering a reason.
                    type: string
                  mandatory:
                    default: false
                    description: mandatory requires a reason for all session requests.
                    type: boolean
                  maxLength:
                    default: 1000
                    description: maxLength is the maximum character length for the
                      reason.
                    format: int32
                    minimum: 1
                    type: integer
                  minLength:
                    default: 10
                    description: minLength is the minimum character length for the
                      reason.
                    format: int32
                    minimum: 0
                    type: integer
                  suggestedReasons:
                    description: suggestedReasons is a list of pre-defined reason
                      options for quick selection.
                    items:
                      type: string
                    type: array
                type: object
              requestedBy:
                description: requestedBy is the email/identifier of the user who requested
                  the session.
                type: string
              requestedByDisplayName:
                description: requestedByDisplayName is the human-readable name of
                  the requester (from OIDC "name" claim).
                type: string
              requestedByEmail:
                description: |-
                  requestedByEmail is the email address of the requester (from OIDC "email" claim).
                  Used for sending email notifications.
                type: string
              requestedDuration:
                description: |-
                  requestedDuration is the desired session duration (e.g., "2h").
                  Must not exceed the template's maxDuration constraint.
                type: string
              resolvedSchedulingConstraints:
                description: |-
                  resolvedSchedulingConstraints contains the merged scheduling constraints
                  from the template's base constraints and the selected scheduling option.
                  This is computed at session creation time and used by the controller.
                properties:
                  deniedNodeLabels:
                    additionalProperties:
                      type: string
                    description: |-
                      deniedNodeLabels blocks nodes with any of these labels.
                      Key-value pairs where value can be "*" for any value.
                    type: object
                  deniedNodes:
                    description: |-
                      deniedNodes is a list of node name patterns that MUST NOT run debug pods.
                      Evaluated as glob patterns.
                    items:
                      type: string
                    type: array
                  nodeSelector:
                    additionalProperties:
                      type: string
                    description: |-
                      nodeSelector adds mandatory node labels for scheduling.
                      Merged with template's nodeSelector (constraints take precedence on conflicts).
                    type: object
                  preferredNodeAffinity:
                    description: |-
                      preferredNodeAffinity specifies soft node affinity preferences.
                      Added to template's preferred affinities.
                    items:
                      description: |-
                        An empty preferred scheduling term matches all objects with implicit weight 0
                        (i.e. it's a no-op). A null preferred scheduling term matches no objects (i.e. is also a no-op).
                      properties:
                        preference:
                          description: A node selector term, associated with the corresponding
                            weight.
                          properties:
                            matchExpressions:
                              description: A list of node selector requirements by
                                node's labels.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchFields:
                              description: A list of node selector requirements by
                                node's fields.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                          type: object
                          x-kubernetes-map-type: atomic
                        weight:
                          description: Weight associated with matching the corresponding
                            nodeSelectorTerm, in the range 1-100.
                          format: int32
                          type: integer
                      required:
                      - preference
                      - weight
                      type: object
                    type: array
                  preferredPodAntiAffinity:
                    description: preferredPodAntiAffinity specifies soft pod anti-affinity
                      preferences.
                    items:
                      description: The weights of all of the matched WeightedPodAffinityTerm
                        fields are added per-node to find the most preferred node(s)
                      properties:
                        podAffinityTerm:
                          description: Required. A pod affinity term, associated with
                            the corresponding weight.
                          properties:
                            labelSelector:
                              description: |-
                                A label query over a set of resources, in this case pods.
                                If it's null, this PodAffinityTerm matches with no Pods.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: |-
                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                      relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. This array is replaced during a strategic
                                          merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            matchLabelKeys:
                              description: |-
                                MatchLabelKeys is a set of pod label keys to select which pods will
                                be taken into consideration. The keys are used to lookup values from the
                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                to select the group of existing pods which pods will be taken into consideration
                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                pod labels will be ignored. The default value is empty.
                                The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                Also, matchLabelKeys cannot be set when labelSelector isn't set.
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            mismatchLabelKeys:
                              description: |-
                                MismatchLabelKeys is a set of pod label keys to select which pods will
                                be taken into consideration. The keys are used to lookup values from the
                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                to select the group of existing pods which pods will be taken into consideration
                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                pod labels will be ignored. The default value is empty.
                                The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            namespaceSelector:
                              description: |-
                                A label query over the set of namespaces that the term applies to.
                                The term is applied to the union of the namespaces selected by this field
                                and the ones listed in the namespaces field.
                                null selector and null or empty namespaces list means "this pod's namespace".
                                An empty selector ({}) matches all namespaces.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: |-
                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                      relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. This array is replaced during a strategic
                                          merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            namespaces:
                              description: |-
                                namespaces specifies a static list of namespace names that the term applies to.
                                The term is applied to the union of the namespaces listed in this field
                                and the ones selected by namespaceSelector.
                                null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            topologyKey:
                              description: |-
                                This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                whose value of the label with key topologyKey matches that of any node on which any of the
                                selected pods is running.
                                Empty topologyKey is not allowed.
                              type: string
                          required:
                          - topologyKey
                          type: object
                        weight:
                          description: |-
                            weight associated with matching the corresponding podAffinityTerm,
                            in the range 1-100.
                          format: int32
                          type: integer
                      required:
                      - podAffinityTerm
                      - weight
                      type: object
                    type: array
                  requiredNodeAffinity:
                    description: |-
                      requiredNodeAffinity specifies hard node affinity requirements.
                      Merged with template's affinity using AND logic.
                    properties:
                      nodeSelectorTerms:
                        description: Required. A list of node selector terms. The
                          terms are ORed.
                        items:
                          description: |-
                            A null or empty node selector term matches no objects. The requirements of
                            them are ANDed.
                            The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                          properties:
                            matchExpressions:
                              description: A list of node selector requirements by
                                node's labels.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchFields:
                              description: A list of node selector requirements by
                                node's fields.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                          type: object
                          x-kubernetes-map-type: atomic
                        type: array
                        x-kubernetes-list-type: atomic
                    required:
                    - nodeSelectorTerms
                    type: object
                    x-kubernetes-map-type: atomic
                  requiredPodAntiAffinity:
                    description: |-
                      requiredPodAntiAffinity specifies hard pod anti-affinity rules.
                      Ensures debug pods don't co-locate inappropriately.
                    items:
                      description: |-
                        Defines a set of pods (namely those matching the labelSelector
                        relative to the given namespace(s)) that this pod should be
                        co-located (affinity) or not co-located (anti-affinity) with,
                        where co-located is defined as running on a node whose value of
                        the label with key <topologyKey> matches that of any node on which
                        a pod of the set of pods is running
                      properties:
                        labelSelector:
                          description: |-
                            A label query over a set of resources, in this case pods.
                            If it's null, this PodAffinityTerm matches with no Pods.
                          properties:
                            matchExpressions:
                              description: matchExpressions is a list of label selector
                                requirements. The requirements are ANDed.
                              items:
                                description: |-
                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                  relates the key and values.
                                properties:
                                  key:
                                    description: key is the label key that the selector
                                      applies to.
                                    type: string
                                  operator:
                                    description: |-
                                      operator represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                    type: string
                                  values:
                                    description: |-
                                      values is an array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. This array is replaced during a strategic
                                      merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchLabels:
                              additionalProperties:
                                type: string
                              description: |-
                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                              type: object
                          type: object
                          x-kubernetes-map-type: atomic
                        matchLabelKeys:
                          description: |-
                            MatchLabelKeys is a set of pod label keys to select which pods will
                            be taken into consideration. The keys are used to lookup values from the
                            incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                            to select the group of existing pods which pods will be taken into consideration
                            for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                            pod labels will be ignored. The default value is empty.
                            The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                            Also, matchLabelKeys cannot be set when labelSelector isn't set.
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                        mismatchLabelKeys:
                          description: |-
                            MismatchLabelKeys is a set of pod label keys to select which pods will
                            be taken into consideration. The keys are used to lookup values from the
                            incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                            to select the group of existing pods which pods will be taken into consideration
                            for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                            pod labels will be ignored. The default value is empty.
                            The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                            Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                        namespaceSelector:
                          description: |-
                            A label query over the set of namespaces that the term applies to.
                            The term is applied to the union of the namespaces selected by this field
                            and the ones listed in the namespaces field.
                            null selector and null or empty namespaces list means "this pod's namespace".
                            An empty selector ({}) matches all namespaces.
                          properties:
                            matchExpressions:
                              description: matchExpressions is a list of label selector
                                requirements. The requirements are ANDed.
                              items:
                                description: |-
                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                  relates the key and values.
                                properties:
                                  key:
                                    description: key is the label key that the selector
                                      applies to.
                                    type: string
                                  operator:
                                    description: |-
                                      operator represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                    type: string
                                  values:
                                    description: |-
                                      values is an array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. This array is replaced during a strategic
                                      merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchLabels:
                              additionalProperties:
                                type: string
                              description: |-
                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                              type: object
                          type: object
                          x-kubernetes-map-type: atomic
                        namespaces:
                          description: |-
                            namespaces specifies a static list of namespace names that the term applies to.
                            The term is applied to the union of the namespaces listed in this field
                            and the ones selected by namespaceSelector.
                            null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                        topologyKey:
                          description: |-
                            This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                            the labelSelector in the specified namespaces, where co-located is defined as running on a node
                            whose value of the label with key topologyKey matches that of any node on which any of the
                            selected pods is running.
                            Empty topologyKey is not allowed.
                          type: string
                      required:
                      - topologyKey
                      type: object
                    type: array
                  tolerations:
                    description: |-
                      tolerations adds tolerations for debug pods.
                      Merged with template's tolerations.
                    items:
                      description: |-
                        The pod this Toleration is attached to tolerates any taint that matches
                        the triple <key,value,effect> using the matching operator <operator>.
                      properties:
                        effect:
                          description: |-
                            Effect indicates the taint effect to match. Empty means match all taint effects.
                            When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
                          type: string
                        key:
                          description: |-
                            Key is the taint key that the toleration applies to. Empty means match all taint keys.
                            If the key is empty, operator must be Exists; this combination means to match all values and all keys.
                          type: string
                        operator:
                          description: |-
                            Operator represents a key's relationship to the value.
                            Valid operators are Exists, Equal, Lt, and Gt. Defaults to Equal.
                            Exists is equivalent to wildcard for value, so that a pod can
                            tolerate all taints of a particular category.
                            Lt and Gt perform numeric comparisons (requires feature gate TaintTolerationComparisonOperators).
                          type: string
                        tolerationSeconds:
                          description: |-
                            TolerationSeconds represents the period of time the toleration (which must be
                            of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
                            it is not set, which means tolerate the taint forever (do not evict). Zero and
                            negative values will be treated as 0 (evict immediately) by the system.
                          format: int64
                          type: integer
                        value:
                          description: |-
                            Value is the taint value the toleration matches to.
                            If the operator is Exists, the value should be empty, otherwise just a regular string.
                          type: string
                      type: object
                    type: array
                  topologySpreadConstraints:
                    description: topologySpreadConstraints controls how debug pods
                      are spread.
                    items:
                      description: TopologySpreadConstraint specifies how to spread
                        matching pods among the given topology.
                      properties:
                        labelSelector:
                          description: |-
                            LabelSelector is used to find matching pods.
                            Pods that match this label selector are counted to determine the number of pods
                            in their corresponding topology domain.
                          properties:
                            matchExpressions:
                              description: matchExpressions is a list of label selector
                                requirements. The requirements are ANDed.
                              items:
                                description: |-
                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                  relates the key and values.
                                properties:
                                  key:
                                    description: key is the label key that the selector
                                      applies to.
                                    type: string
                                  operator:
                                    description: |-
                                      operator represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                    type: string
                                  values:
                                    description: |-
                                      values is an array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. This array is replaced during a strategic
                                      merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchLabels:
                              additionalProperties:
                                type: string
                              description: |-
                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                              type: object
                          type: object
                          x-kubernetes-map-type: atomic
                        matchLabelKeys:
                          description: |-
                            MatchLabelKeys is a set of pod label keys to select the pods over which
                            spreading will be calculated. The keys are used to lookup values from the
                            incoming pod labels, those key-value labels are ANDed with labelSelector
                            to select the group of existing pods over which spreading will be calculated
                            for the incoming pod. The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                            MatchLabelKeys cannot be set when LabelSelector isn't set.
                            Keys that don't exist in the incoming pod labels will
                            be ignored. A null or empty list means only match against labelSelector.

                            This is a beta field and requires the MatchLabelKeysInPodTopologySpread feature gate to be enabled (enabled by default).
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                        maxSkew:
                          description: |-
                            MaxSkew describes the degree to which pods may be unevenly distributed.
                            When `whenUnsatisfiable=DoNotSchedule`, it is the maximum permitted difference
                            between the number of matching pods in the target topology and the global minimum.
                            The global minimum is the minimum number of matching pods in an eligible domain
                            or zero if the number of eligible domains is less than MinDomains.
                            For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                            labelSelector spread as 2/2/1:
                            In this case, the global minimum is 1.
                            | zone1 | zone2 | zone3 |
                            |  P P  |  P P  |   P   |
                            - if MaxSkew is 1, incoming pod can only be scheduled to zone3 to become 2/2/2;
                            scheduling it onto zone1(zone2) would make the ActualSkew(3-1) on zone1(zone2)
                            violate MaxSkew(1).
                            - if MaxSkew is 2, incoming pod can be scheduled onto any zone.
                            When `whenUnsatisfiable=ScheduleAnyway`, it is used to give higher precedence
                            to topologies that satisfy it.
                            It's a required field. Default value is 1 and 0 is not allowed.
                          format: int32
                          type: integer
                        minDomains:
                          description: |-
                            MinDomains indicates a minimum number of eligible domains.
                            When the number of eligible domains with matching topology keys is less than minDomains,
                            Pod Topology Spread treats "global minimum" as 0, and then the calculation of Skew is performed.
                            And when the number of eligible domains with matching topology keys equals or greater than minDomains,
                            this value has no effect on scheduling.
                            As a result, when the number of eligible domains is less than minDomains,
                            scheduler won't schedule more than maxSkew Pods to those domains.
                            If value is nil, the constraint behaves as if MinDomains is equal to 1.
                            Valid values are integers greater than 0.
                            When value is not nil, WhenUnsatisfiable must be DoNotSchedule.

                            For example, in a 3-zone cluster, MaxSkew is set to 2, MinDomains is set to 5 and pods with the same
                            labelSelector spread as 2/2/2:
                            | zone1 | zone2 | zone3 |
                            |  P P  |  P P  |  P P  |
                            The number of domains is less than 5(MinDomains), so "global minimum" is treated as 0.
                            In this situation, new pod with the same labelSelector cannot be scheduled,
                            because computed skew will be 3(3 - 0) if new Pod is scheduled to any of the three zones,
                            it will violate MaxSkew.
                          format: int32
                          type: integer
                        nodeAffinityPolicy:
                          description: |-
                            NodeAffinityPolicy indicates how we will treat Pod's nodeAffinity/nodeSelector
                            when calculating pod topology spread skew. Options are:
                            - Honor: only nodes matching nodeAffinity/nodeSelector are included in the calculations.
                            - Ignore: nodeAffinity/nodeSelector are ignored. All nodes are included in the calculations.

                            If this value is nil, the behavior is equivalent to the Honor policy.
                          type: string
                        nodeTaintsPolicy:
                          description: |-
                            NodeTaintsPolicy indicates how we will treat node taints when calculating
                            pod topology spread skew. Options are:
                            - Honor: nodes without taints, along with tainted nodes for which the incoming pod
                            has a toleration, are included.
                            - Ignore: node taints are ignored. All nodes are included.

                            If this value is nil, the behavior is equivalent to the Ignore policy.
                          type: string
                        topologyKey:
                          description: |-
                            TopologyKey is the key of node labels. Nodes that have a label with this key
                            and identical values are considered to be in the same topology.
                            We consider each <key, value> as a "bucket", and try to put balanced number
                            of pods into each bucket.
                            We define a domain as a particular instance of a topology.
                            Also, we define an eligible domain as a domain whose nodes meet the requirements of
                            nodeAffinityPolicy and nodeTaintsPolicy.
                            e.g. If TopologyKey is "kubernetes.io/hostname", each Node is a domain of that topology.
                            And, if TopologyKey is "topology.kubernetes.io/zone", each zone is a domain of that topology.
                            It's a required field.
                          type: string
                        whenUnsatisfiable:
                          description: |-
                            WhenUnsatisfiable indicates how to deal with a pod if it doesn't satisfy
                            the spread constraint.
                            - DoNotSchedule (default) tells the scheduler not to schedule it.
                            - ScheduleAnyway tells the scheduler to schedule the pod in any location,
                              but giving higher precedence to topologies that would help reduce the
                              skew.
                            A constraint is considered "Unsatisfiable" for an incoming pod
                            if and only if every possible node assignment for that pod would violate
                            "MaxSkew" on some topology.
                            For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                            labelSelector spread as 3/1/1:
                            | zone1 | zone2 | zone3 |
                            | P P P |   P   |   P   |
                            If WhenUnsatisfiable is set to DoNotSchedule, incoming pod can only be scheduled
                            to zone2(zone3) to become 3/2/1(3/1/2) as ActualSkew(2-1) on zone2(zone3) satisfies
                            MaxSkew(1). In other words, the cluster can still be imbalanced, but scheduler
                            won't make it *more* imbalanced.
                            It's a required field.
                          type: string
                      required:
                      - maxSkew
                      - topologyKey
                      - whenUnsatisfiable
                      type: object
                    type: array
                type: object
              selectedAuxiliaryResources:
                description: |-
                  selectedAuxiliaryResources lists auxiliary resource categories that are enabled for this session.
                  Merged from template defaults and binding overrides at session creation time.
                items:
                  type: string
                type: array
              selectedSchedulingOption:
                description: |-
                  selectedSchedulingOption is the name of the scheduling option selected by the user.
                  Must match one of the options defined in the template's schedulingOptions.
                  If empty and template has options, the default option is used.
                type: string
              targetNamespace:
                description: |-
                  targetNamespace is the namespace where debug pods will be deployed.
                  This is resolved at session creation time from template's namespaceConstraints.
                  If empty, the controller uses the template's defaultNamespace.
                type: string
              templateRef:
                description: templateRef is the name of the DebugSessionTemplate to
                  use.
                type: string
              userGroups:
                description: |-
                  userGroups contains the groups the requesting user belongs to.
                  This is populated at session creation time from the authentication token
                  and used for auto-approval group matching.
                items:
                  type: string
                type: array
            required:
            - cluster
            - requestedBy
            - templateRef
            type: object
          status:
            description: DebugSessionStatus defines the observed state of DebugSession.
            properties:
              allowedPodOperations:
                description: |-
                  allowedPodOperations caches the resolved pod operations from the template.
                  Used by the webhook to determine which operations are permitted.
                properties:
                  attach:
                    default: true
                    description: attach allows attaching to running container processes
                      via kubectl attach.
                    type: boolean
                  exec:
                    default: true
                    description: |-
                      exec allows running commands inside containers via kubectl exec.
                      Note: kubectl cp uses exec internally, so disabling exec also prevents kubectl cp.
                    type: boolean
                  logs:
                    default: false
                    description: |-
                      logs allows viewing container logs via kubectl logs.
                      This is a read-only operation.
                    type: boolean
                  portForward:
                    default: true
                    description: portForward allows forwarding local ports to pod
                      ports via kubectl port-forward.
                    type: boolean
                type: object
              allowedPods:
                description: |-
                  allowedPods lists pods that users can exec into via this session.
                  Dynamically updated as debug pods start/stop.
                items:
                  description: AllowedPodRef references a pod that users can exec
                    into.
                  properties:
                    containerStatus:
                      description: |-
                        containerStatus provides detailed container state information.
                        Includes waiting reasons like CrashLoopBackOff, ImagePullBackOff, etc.
                      properties:
                        lastTerminationReason:
                          description: lastTerminationReason is the reason the container
                            last terminated.
                          type: string
                        restartCount:
                          description: restartCount is the number of times the container
                            has been restarted.
                          format: int32
                          type: integer
                        waitingMessage:
                          description: waitingMessage provides additional details
                            about why the container is waiting.
                          type: string
                        waitingReason:
                          description: waitingReason is the reason the container is
                            waiting (e.g., CrashLoopBackOff, ImagePullBackOff).
                          type: string
                      type: object
                    name:
                      description: name is the pod's name.
                      type: string
                    namespace:
                      description: namespace is the pod's namespace.
                      type: string
                    nodeName:
                      description: nodeName is the node the pod is running on.
                      type: string
                    phase:
                      description: phase is the pod's current phase (Pending, Running,
                        Succeeded, Failed, Unknown).
                      type: string
                    ready:
                      description: ready indicates if the pod is ready for exec.
                      type: boolean
                  required:
                  - name
                  - namespace
                  type: object
                type: array
              approval:
                description: approval tracks approval information.
                properties:
                  approvedAt:
                    description: approvedAt is when the session was approved.
                    format: date-time
                    type: string
                  approvedBy:
                    description: approvedBy is the email/identifier of the approver.
                    type: string
                  reason:
                    description: reason is the reason for approval/rejection.
                    type: string
                  rejectedAt:
                    description: rejectedAt is when the session was rejected.
                    format: date-time
                    type: string
                  rejectedBy:
                    description: rejectedBy is the email/identifier of the rejector.
                    type: string
                  required:
                    description: required indicates if approval is needed.
                    type: boolean
                type: object
              auxiliaryResourceStatuses:
                description: auxiliaryResourceStatuses tracks the state of deployed
                  auxiliary resources.
                items:
                  description: AuxiliaryResourceStatus tracks the state of a deployed
                    auxiliary resource.
                  properties:
                    apiVersion:
                      description: apiVersion is the Kubernetes API version.
                      type: string
                    category:
                      description: category is the resource category.
                      type: string
                    created:
                      description: created indicates if the resource was successfully
                        created.
                      type: boolean
                    createdAt:
                      description: createdAt is when the resource was created.
                      type: string
                    deleted:
                      description: deleted indicates if the resource was deleted.
                      type: boolean
                    deletedAt:
                      description: deletedAt is when the resource was deleted.
                      type: string
                    error:
                      description: error contains any error message from creation
                        or deletion.
                      type: string
                    kind:
                      description: kind is the Kubernetes resource kind.
                      type: string
                    name:
                      description: name is the auxiliary resource name (from template).
                      type: string
                    namespace:
                      description: namespace is where the resource was created.
                      type: string
                    resourceName:
                      description: resourceName is the actual Kubernetes resource
                        name (after template rendering).
                      type: string
                  required:
                  - name
                  type: object
                type: array
              conditions:
                description: conditions provide detailed status information.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              deployedResources:
                description: deployedResources lists resources created on the target
                  cluster.
                items:
                  description: DeployedResourceRef references a deployed resource
                    on the target cluster.
                  properties:
                    apiVersion:
                      description: apiVersion is the API version of the resource.
                      type: string
                    kind:
                      description: kind is the kind of the resource.
                      type: string
                    name:
                      description: name is the name of the resource.
                      type: string
                    namespace:
                      description: namespace is the namespace of the resource (if
                        namespaced).
                      type: string
                    source:
                      description: |-
                        source indicates where this resource came from.
                        For debug pod: "debug-pod"
                        For auxiliary resources: "auxiliary:<category>" (e.g., "auxiliary:network-policy")
                      type: string
                    uid:
                      description: uid is the UID of the deployed resource for precise
                        identification.
                      type: string
                  required:
                  - apiVersion
                  - kind
                  - name
                  type: object
                type: array
              expiresAt:
                description: expiresAt is when the session will expire.
                format: date-time
                type: string
              kubectlDebugStatus:
                description: kubectlDebugStatus tracks kubectl debug operations for
                  kubectl-debug mode.
                properties:
                  copiedPods:
                    description: copiedPods lists debug copies of pods.
                    items:
                      description: CopiedPodRef tracks a debug copy of a pod.
                      properties:
                        copyName:
                          description: copyName is the name of the copied pod.
                          type: string
                        copyNamespace:
                          description: copyNamespace is the copied pod's namespace.
                          type: string
                        createdAt:
                          description: createdAt is when the copy was created.
                          format: date-time
                          type: string
                        expiresAt:
                          description: expiresAt is when the copy will be auto-deleted.
                          format: date-time
                          type: string
                        originalNamespace:
                          description: originalNamespace is the original pod's namespace.
                          type: string
                        originalPod:
                          description: originalPod is the name of the original pod.
                          type: string
                      required:
                      - copyName
                      - copyNamespace
                      - createdAt
                      - originalNamespace
                      - originalPod
                      type: object
                    type: array
                  ephemeralContainersInjected:
                    description: ephemeralContainersInjected lists injected ephemeral
                      containers.
                    items:
                      description: EphemeralContainerRef tracks an injected ephemeral
                        container.
                      properties:
                        containerName:
                          description: containerName is the name of the ephemeral
                            container.
                          type: string
                        image:
                          description: image is the container image.
                          type: string
                        injectedAt:
                          description: injectedAt is when the container was injected.
                          format: date-time
                          type: string
                        injectedBy:
                          description: injectedBy is who injected the container.
                          type: string
                        namespace:
                          description: namespace is the pod's namespace.
                          type: string
                        podName:
                          description: podName is the name of the pod.
                          type: string
                      required:
                      - containerName
                      - image
                      - injectedAt
                      - injectedBy
                      - namespace
                      - podName
                      type: object
                    type: array
                type: object
              message:
                description: message provides human-readable status information.
                type: string
              observedGeneration:
                description: ObservedGeneration reflects the generation of the most
                  recently observed DebugSession.
                format: int64
                type: integer
              participants:
                description: participants lists users currently in the session.
                items:
                  description: DebugSessionParticipant represents a user in the session.
                  properties:
                    displayName:
                      description: displayName is the human-readable name of the participant
                        (from OIDC "name" claim).
                      type: string
                    email:
                      description: |-
                        email is the email address of the participant (from OIDC "email" claim).
                        Used for sending email notifications.
                      type: string
                    joinedAt:
                      description: joinedAt is when the user joined the session.
                      format: date-time
                      type: string
                    leftAt:
                      description: leftAt is when the user left the session (if they
                        have left).
                      format: date-time
                      type: string
                    role:
                      description: role is the participant's role (owner or participant).
                      enum:
                      - owner
                      - participant
                      - viewer
                      type: string
                    user:
                      description: user is the username/identifier of the participant.
                      type: string
                  required:
                  - joinedAt
                  - role
                  - user
                  type: object
                type: array
              renewalCount:
                description: renewalCount tracks how many times the session has been
                  renewed.
                format: int32
                type: integer
              resolvedBinding:
                description: resolvedBinding caches information about the binding
                  used (if any).
                properties:
                  displayName:
                    description: displayName is the effective display name from the
                      binding.
                    type: string
                  name:
                    description: name is the binding name.
                    type: string
                  namespace:
                    description: namespace is the binding namespace.
                    type: string
                required:
                - name
                - namespace
                type: object
              resolvedTemplate:
                description: |-
                  resolvedTemplate caches the resolved DebugSessionTemplate spec.
                  Used to ensure consistent behavior even if template changes.
                properties:
                  additionalTolerations:
                    description: additionalTolerations adds tolerations to those defined
                      in the pod template.
                    items:
                      description: |-
                        The pod this Toleration is attached to tolerates any taint that matches
                        the triple <key,value,effect> using the matching operator <operator>.
                      properties:
                        effect:
                          description: |-
                            Effect indicates the taint effect to match. Empty means match all taint effects.
                            When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
                          type: string
                        key:
                          description: |-
                            Key is the taint key that the toleration applies to. Empty means match all taint keys.
                            If the key is empty, operator must be Exists; this combination means to match all values and all keys.
                          type: string
                        operator:
                          description: |-
                            Operator represents a key's relationship to the value.
                            Valid operators are Exists, Equal, Lt, and Gt. Defaults to Equal.
                            Exists is equivalent to wildcard for value, so that a pod can
                            tolerate all taints of a particular category.
                            Lt and Gt perform numeric comparisons (requires feature gate TaintTolerationComparisonOperators).
                          type: string
                        tolerationSeconds:
                          description: |-
                            TolerationSeconds represents the period of time the toleration (which must be
                            of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
                            it is not set, which means tolerate the taint forever (do not evict). Zero and
                            negative values will be treated as 0 (evict immediately) by the system.
                          format: int64
                          type: integer
                        value:
                          description: |-
                            Value is the taint value the toleration matches to.
                            If the operator is Exists, the value should be empty, otherwise just a regular string.
                          type: string
                      type: object
                    type: array
                  affinityOverrides:
                    description: affinityOverrides adds or replaces affinity rules
                      from the pod template.
                    properties:
                      nodeAffinity:
                        description: Describes node affinity scheduling rules for
                          the pod.
                        properties:
                          preferredDuringSchedulingIgnoredDuringExecution:
                            description: |-
                              The scheduler will prefer to schedule pods to nodes that satisfy
                              the affinity expressions specified by this field, but it may choose
                              a node that violates one or more of the expressions. The node that is
                              most preferred is the one with the greatest sum of weights, i.e.
                              for each node that meets all of the scheduling requirements (resource
                              request, requiredDuringScheduling affinity expressions, etc.),
                              compute a sum by iterating through the elements of this field and adding
                              "weight" to the sum if the node matches the corresponding matchExpressions; the
                              node(s) with the highest sum are the most preferred.
                            items:
                              description: |-
                                An empty preferred scheduling term matches all objects with implicit weight 0
                                (i.e. it's a no-op). A null preferred scheduling term matches no objects (i.e. is also a no-op).
                              properties:
                                preference:
                                  description: A node selector term, associated with
                                    the corresponding weight.
                                  properties:
                                    matchExpressions:
                                      description: A list of node selector requirements
                                        by node's labels.
                                      items:
                                        description: |-
                                          A node selector requirement is a selector that contains values, a key, and an operator
                                          that relates the key and values.
                                        properties:
                                          key:
                                            description: The label key that the selector
                                              applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              Represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                            type: string
                                          values:
                                            description: |-
                                              An array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. If the operator is Gt or Lt, the values
                                              array must have a single element, which will be interpreted as an integer.
                                              This array is replaced during a strategic merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchFields:
                                      description: A list of node selector requirements
                                        by node's fields.
                                      items:
                                        description: |-
                                          A node selector requirement is a selector that contains values, a key, and an operator
                                          that relates the key and values.
                                        properties:
                                          key:
                                            description: The label key that the selector
                                              applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              Represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                            type: string
                                          values:
                                            description: |-
                                              An array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. If the operator is Gt or Lt, the values
                                              array must have a single element, which will be interpreted as an integer.
                                              This array is replaced during a strategic merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                  type: object
                                  x-kubernetes-map-type: atomic
                                weight:
                                  description: Weight associated with matching the
                                    corresponding nodeSelectorTerm, in the range 1-100.
                                  format: int32
                                  type: integer
                              required:
                              - preference
                              - weight
                              type: object
                            type: array
                            x-kubernetes-list-type: atomic
                          requiredDuringSchedulingIgnoredDuringExecution:
                            description: |-
                              If the affinity requirements specified by this field are not met at
                              scheduling time, the pod will not be scheduled onto the node.
                              If the affinity requirements specified by this field cease to be met
                              at some point during pod execution (e.g. due to an update), the system
                              may or may not try to eventually evict the pod from its node.
                            properties:
                              nodeSelectorTerms:
                                description: Required. A list of node selector terms.
                                  The terms are ORed.
                                items:
                                  description: |-
                                    A null or empty node selector term matches no objects. The requirements of
                                    them are ANDed.
                                    The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                                  properties:
                                    matchExpressions:
                                      description: A list of node selector requirements
                                        by node's labels.
                                      items:
                                        description: |-
                                          A node selector requirement is a selector that contains values, a key, and an operator
                                          that relates the key and values.
                                        properties:
                                          key:
                                            description: The label key that the selector
                                              applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              Represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                            type: string
                                          values:
                                            description: |-
                                              An array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. If the operator is Gt or Lt, the values
                                              array must have a single element, which will be interpreted as an integer.
                                              This array is replaced during a strategic merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchFields:
                                      description: A list of node selector requirements
                                        by node's fields.
                                      items:
                                        description: |-
                                          A node selector requirement is a selector that contains values, a key, and an operator
                                          that relates the key and values.
                                        properties:
                                          key:
                                            description: The label key that the selector
                                              applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              Represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                            type: string
                                          values:
                                            description: |-
                                              An array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. If the operator is Gt or Lt, the values
                                              array must have a single element, which will be interpreted as an integer.
                                              This array is replaced during a strategic merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                  type: object
                                  x-kubernetes-map-type: atomic
                                type: array
                                x-kubernetes-list-type: atomic
                            required:
                            - nodeSelectorTerms
                            type: object
                            x-kubernetes-map-type: atomic
                        type: object
                      podAffinity:
                        description: Describes pod affinity scheduling rules (e.g.
                          co-locate this pod in the same node, zone, etc. as some
                          other pod(s)).
                        properties:
                          preferredDuringSchedulingIgnoredDuringExecution:
                            description: |-
                              The scheduler will prefer to schedule pods to nodes that satisfy
                              the affinity expressions specified by this field, but it may choose
                              a node that violates one or more of the expressions. The node that is
                              most preferred is the one with the greatest sum of weights, i.e.
                              for each node that meets all of the scheduling requirements (resource
                              request, requiredDuringScheduling affinity expressions, etc.),
                              compute a sum by iterating through the elements of this field and adding
                              "weight" to the sum if the node has pods which matches the corresponding podAffinityTerm; the
                              node(s) with the highest sum are the most preferred.
                            items:
                              description: The weights of all of the matched WeightedPodAffinityTerm
                                fields are added per-node to find the most preferred
                                node(s)
                              properties:
                                podAffinityTerm:
                                  description: Required. A pod affinity term, associated
                                    with the corresponding weight.
                                  properties:
                                    labelSelector:
                                      description: |-
                                        A label query over a set of resources, in this case pods.
                                        If it's null, this PodAffinityTerm matches with no Pods.
                                      properties:
                                        matchExpressions:
                                          description: matchExpressions is a list
                                            of label selector requirements. The requirements
                                            are ANDed.
                                          items:
                                            description: |-
                                              A label selector requirement is a selector that contains values, a key, and an operator that
                                              relates the key and values.
                                            properties:
                                              key:
                                                description: key is the label key
                                                  that the selector applies to.
                                                type: string
                                              operator:
                                                description: |-
                                                  operator represents a key's relationship to a set of values.
                                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                                type: string
                                              values:
                                                description: |-
                                                  values is an array of string values. If the operator is In or NotIn,
                                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                  the values array must be empty. This array is replaced during a strategic
                                                  merge patch.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                            - key
                                            - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    matchLabelKeys:
                                      description: |-
                                        MatchLabelKeys is a set of pod label keys to select which pods will
                                        be taken into consideration. The keys are used to lookup values from the
                                        incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                        to select the group of existing pods which pods will be taken into consideration
                                        for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                        pod labels will be ignored. The default value is empty.
                                        The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                        Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    mismatchLabelKeys:
                                      description: |-
                                        MismatchLabelKeys is a set of pod label keys to select which pods will
                                        be taken into consideration. The keys are used to lookup values from the
                                        incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                        to select the group of existing pods which pods will be taken into consideration
                                        for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                        pod labels will be ignored. The default value is empty.
                                        The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                        Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    namespaceSelector:
                                      description: |-
                                        A label query over the set of namespaces that the term applies to.
                                        The term is applied to the union of the namespaces selected by this field
                                        and the ones listed in the namespaces field.
                                        null selector and null or empty namespaces list means "this pod's namespace".
                                        An empty selector ({}) matches all namespaces.
                                      properties:
                                        matchExpressions:
                                          description: matchExpressions is a list
                                            of label selector requirements. The requirements
                                            are ANDed.
                                          items:
                                            description: |-
                                              A label selector requirement is a selector that contains values, a key, and an operator that
                                              relates the key and values.
                                            properties:
                                              key:
                                                description: key is the label key
                                                  that the selector applies to.
                                                type: string
                                              operator:
                                                description: |-
                                                  operator represents a key's relationship to a set of values.
                                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                                type: string
                                              values:
                                                description: |-
                                                  values is an array of string values. If the operator is In or NotIn,
                                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                  the values array must be empty. This array is replaced during a strategic
                                                  merge patch.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                            - key
                                            - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    namespaces:
                                      description: |-
                                        namespaces specifies a static list of namespace names that the term applies to.
                                        The term is applied to the union of the namespaces listed in this field
                                        and the ones selected by namespaceSelector.
                                        null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    topologyKey:
                                      description: |-
                                        This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                        the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                        whose value of the label with key topologyKey matches that of any node on which any of the
                                        selected pods is running.
                                        Empty topologyKey is not allowed.
                                      type: string
                                  required:
                                  - topologyKey
                                  type: object
                                weight:
                                  description: |-
                                    weight associated with matching the corresponding podAffinityTerm,
                                    in the range 1-100.
                                  format: int32
                                  type: integer
                              required:
                              - podAffinityTerm
                              - weight
                              type: object
                            type: array
                            x-kubernetes-list-type: atomic
                          requiredDuringSchedulingIgnoredDuringExecution:
                            description: |-
                              If the affinity requirements specified by this field are not met at
                              scheduling time, the pod will not be scheduled onto the node.
                              If the affinity requirements specified by this field cease to be met
                              at some point during pod execution (e.g. due to a pod label update), the
                              system may or may not try to eventually evict the pod from its node.
                              When there are multiple elements, the lists of nodes corresponding to each
                              podAffinityTerm are intersected, i.e. all terms must be satisfied.
                            items:
                              description: |-
                                Defines a set of pods (namely those matching the labelSelector
                                relative to the given namespace(s)) that this pod should be
                                co-located (affinity) or not co-located (anti-affinity) with,
                                where co-located is defined as running on a node whose value of
                                the label with key <topologyKey> matches that of any node on which
                                a pod of the set of pods is running
                              properties:
                                labelSelector:
                                  description: |-
                                    A label query over a set of resources, in this case pods.
                                    If it's null, this PodAffinityTerm matches with no Pods.
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: |-
                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                          relates the key and values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                                matchLabelKeys:
                                  description: |-
                                    MatchLabelKeys is a set of pod label keys to select which pods will
                                    be taken into consideration. The keys are used to lookup values from the
                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                    to select the group of existing pods which pods will be taken into consideration
                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                    pod labels will be ignored. The default value is empty.
                                    The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                    Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                mismatchLabelKeys:
                                  description: |-
                                    MismatchLabelKeys is a set of pod label keys to select which pods will
                                    be taken into consideration. The keys are used to lookup values from the
                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                    to select the group of existing pods which pods will be taken into consideration
                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                    pod labels will be ignored. The default value is empty.
                                    The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                    Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                namespaceSelector:
                                  description: |-
                                    A label query over the set of namespaces that the term applies to.
                                    The term is applied to the union of the namespaces selected by this field
                                    and the ones listed in the namespaces field.
                                    null selector and null or empty namespaces list means "this pod's namespace".
                                    An empty selector ({}) matches all namespaces.
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: |-
                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                          relates the key and values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                                namespaces:
                                  description: |-
                                    namespaces specifies a static list of namespace names that the term applies to.
                                    The term is applied to the union of the namespaces listed in this field
                                    and the ones selected by namespaceSelector.
                                    null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                topologyKey:
                                  description: |-
                                    This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                    the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                    whose value of the label with key topologyKey matches that of any node on which any of the
                                    selected pods is running.
                                    Empty topologyKey is not allowed.
                                  type: string
                              required:
                              - topologyKey
                              type: object
                            type: array
                            x-kubernetes-list-type: atomic
                        type: object
                      podAntiAffinity:
                        description: Describes pod anti-affinity scheduling rules
                          (e.g. avoid putting this pod in the same node, zone, etc.
                          as some other pod(s)).
                        properties:
                          preferredDuringSchedulingIgnoredDuringExecution:
                            description: |-
                              The scheduler will prefer to schedule pods to nodes that satisfy
                              the anti-affinity expressions specified by this field, but it may choose
                              a node that violates one or more of the expressions. The node that is
                              most preferred is the one with the greatest sum of weights, i.e.
                              for each node that meets all of the scheduling requirements (resource
                              request, requiredDuringScheduling anti-affinity expressions, etc.),
                              compute a sum by iterating through the elements of this field and subtracting
                              "weight" from the sum if the node has pods which matches the corresponding podAffinityTerm; the
                              node(s) with the highest sum are the most preferred.
                            items:
                              description: The weights of all of the matched WeightedPodAffinityTerm
                                fields are added per-node to find the most preferred
                                node(s)
                              properties:
                                podAffinityTerm:
                                  description: Required. A pod affinity term, associated
                                    with the corresponding weight.
                                  properties:
                                    labelSelector:
                                      description: |-
                                        A label query over a set of resources, in this case pods.
                                        If it's null, this PodAffinityTerm matches with no Pods.
                                      properties:
                                        matchExpressions:
                                          description: matchExpressions is a list
                                            of label selector requirements. The requirements
                                            are ANDed.
                                          items:
                                            description: |-
                                              A label selector requirement is a selector that contains values, a key, and an operator that
                                              relates the key and values.
                                            properties:
                                              key:
                                                description: key is the label key
                                                  that the selector applies to.
                                                type: string
                                              operator:
                                                description: |-
                                                  operator represents a key's relationship to a set of values.
                                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                                type: string
                                              values:
                                                description: |-
                                                  values is an array of string values. If the operator is In or NotIn,
                                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                  the values array must be empty. This array is replaced during a strategic
                                                  merge patch.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                            - key
                                            - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    matchLabelKeys:
                                      description: |-
                                        MatchLabelKeys is a set of pod label keys to select which pods will
                                        be taken into consideration. The keys are used to lookup values from the
                                        incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                        to select the group of existing pods which pods will be taken into consideration
                                        for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                        pod labels will be ignored. The default value is empty.
                                        The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                        Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    mismatchLabelKeys:
                                      description: |-
                                        MismatchLabelKeys is a set of pod label keys to select which pods will
                                        be taken into consideration. The keys are used to lookup values from the
                                        incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                        to select the group of existing pods which pods will be taken into consideration
                                        for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                        pod labels will be ignored. The default value is empty.
                                        The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                        Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    namespaceSelector:
                                      description: |-
                                        A label query over the set of namespaces that the term applies to.
                                        The term is applied to the union of the namespaces selected by this field
                                        and the ones listed in the namespaces field.
                                        null selector and null or empty namespaces list means "this pod's namespace".
                                        An empty selector ({}) matches all namespaces.
                                      properties:
                                        matchExpressions:
                                          description: matchExpressions is a list
                                            of label selector requirements. The requirements
                                            are ANDed.
                                          items:
                                            description: |-
                                              A label selector requirement is a selector that contains values, a key, and an operator that
                                              relates the key and values.
                                            properties:
                                              key:
                                                description: key is the label key
                                                  that the selector applies to.
                                                type: string
                                              operator:
                                                description: |-
                                                  operator represents a key's relationship to a set of values.
                                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                                type: string
                                              values:
                                                description: |-
                                                  values is an array of string values. If the operator is In or NotIn,
                                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                  the values array must be empty. This array is replaced during a strategic
                                                  merge patch.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                            - key
                                            - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    namespaces:
                                      description: |-
                                        namespaces specifies a static list of namespace names that the term applies to.
                                        The term is applied to the union of the namespaces listed in this field
                                        and the ones selected by namespaceSelector.
                                        null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    topologyKey:
                                      description: |-
                                        This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                        the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                        whose value of the label with key topologyKey matches that of any node on which any of the
                                        selected pods is running.
                                        Empty topologyKey is not allowed.
                                      type: string
                                  required:
                                  - topologyKey
                                  type: object
                                weight:
                                  description: |-
                                    weight associated with matching the corresponding podAffinityTerm,
                                    in the range 1-100.
                                  format: int32
                                  type: integer
                              required:
                              - podAffinityTerm
                              - weight
                              type: object
                            type: array
                            x-kubernetes-list-type: atomic
                          requiredDuringSchedulingIgnoredDuringExecution:
                            description: |-
                              If the anti-affinity requirements specified by this field are not met at
                              scheduling time, the pod will not be scheduled onto the node.
                              If the anti-affinity requirements specified by this field cease to be met
                              at some point during pod execution (e.g. due to a pod label update), the
                              system may or may not try to eventually evict the pod from its node.
                              When there are multiple elements, the lists of nodes corresponding to each
                              podAffinityTerm are intersected, i.e. all terms must be satisfied.
                            items:
                              description: |-
                                Defines a set of pods (namely those matching the labelSelector
                                relative to the given namespace(s)) that this pod should be
                                co-located (affinity) or not co-located (anti-affinity) with,
                                where co-located is defined as running on a node whose value of
                                the label with key <topologyKey> matches that of any node on which
                                a pod of the set of pods is running
                              properties:
                                labelSelector:
                                  description: |-
                                    A label query over a set of resources, in this case pods.
                                    If it's null, this PodAffinityTerm matches with no Pods.
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: |-
                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                          relates the key and values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                                matchLabelKeys:
                                  description: |-
                                    MatchLabelKeys is a set of pod label keys to select which pods will
                                    be taken into consideration. The keys are used to lookup values from the
                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                    to select the group of existing pods which pods will be taken into consideration
                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                    pod labels will be ignored. The default value is empty.
                                    The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                    Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                mismatchLabelKeys:
                                  description: |-
                                    MismatchLabelKeys is a set of pod label keys to select which pods will
                                    be taken into consideration. The keys are used to lookup values from the
                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                    to select the group of existing pods which pods will be taken into consideration
                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                    pod labels will be ignored. The default value is empty.
                                    The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                    Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                namespaceSelector:
                                  description: |-
                                    A label query over the set of namespaces that the term applies to.
                                    The term is applied to the union of the namespaces selected by this field
                                    and the ones listed in the namespaces field.
                                    null selector and null or empty namespaces list means "this pod's namespace".
                                    An empty selector ({}) matches all namespaces.
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: |-
                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                          relates the key and values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                                namespaces:
                                  description: |-
                                    namespaces specifies a static list of namespace names that the term applies to.
                                    The term is applied to the union of the namespaces listed in this field
                                    and the ones selected by namespaceSelector.
                                    null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                topologyKey:
                                  description: |-
                                    This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                    the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                    whose value of the label with key topologyKey matches that of any node on which any of the
                                    selected pods is running.
                                    Empty topologyKey is not allowed.
                                  type: string
                              required:
                              - topologyKey
                              type: object
                            type: array
                            x-kubernetes-list-type: atomic
                        type: object
                    type: object
                  allowed:
                    description: allowed specifies who can request this debug template
                      and on which clusters.
                    properties:
                      clusterSelector:
                        description: |-
                          clusterSelector allows selecting clusters by labels.
                          Matched clusters are added to the allowed list (OR logic with clusters field).
                        properties:
                          matchExpressions:
                            description: matchExpressions is a list of label selector
                              requirements. The requirements are ANDed.
                            items:
                              description: |-
                                A label selector requirement is a selector that contains values, a key, and an operator that
                                relates the key and values.
                              properties:
                                key:
                                  description: key is the label key that the selector
                                    applies to.
                                  type: string
                                operator:
                                  description: |-
                                    operator represents a key's relationship to a set of values.
                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                  type: string
                                values:
                                  description: |-
                                    values is an array of string values. If the operator is In or NotIn,
                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                    the values array must be empty. This array is replaced during a strategic
                                    merge patch.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              required:
                              - key
                              - operator
                              type: object
                            type: array
                            x-kubernetes-list-type: atomic
                          matchLabels:
                            additionalProperties:
                              type: string
                            description: |-
                              matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                              map is equivalent to an element of matchExpressions, whose key field is "key", the
                              operator is "In", and the values array contains only "value". The requirements are ANDed.
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      clusters:
                        description: |-
                          clusters specifies which clusters this template can be used on.
                          Supports glob patterns.
                        items:
                          type: string
                        type: array
                      groups:
                        description: groups specifies groups that can request this
                          template.
                        items:
                          type: string
                        type: array
                      users:
                        description: users specifies individual users that can request
                          this template.
                        items:
                          type: string
                        type: array
                    type: object
                  allowedPodOperations:
                    description: |-
                      allowedPodOperations configures which kubectl operations are permitted on debug pods.
                      When nil, defaults to allowing exec, attach, and portforward (backward compatible).
                      Use this to grant more restrictive access (e.g., logs-only for read-only debugging).
                    properties:
                      attach:
                        default: true
                        description: attach allows attaching to running container
                          processes via kubectl attach.
                        type: boolean
                      exec:
                        default: true
                        description: |-
                          exec allows running commands inside containers via kubectl exec.
                          Note: kubectl cp uses exec internally, so disabling exec also prevents kubectl cp.
                        type: boolean
                      logs:
                        default: false
                        description: |-
                          logs allows viewing container logs via kubectl logs.
                          This is a read-only operation.
                        type: boolean
                      portForward:
                        default: true
                        description: portForward allows forwarding local ports to
                          pod ports via kubectl port-forward.
                        type: boolean
                    type: object
                  annotations:
                    additionalProperties:
                      type: string
                    description: annotations are additional annotations applied to
                      all resources created by this template.
                    type: object
                  approvalReason:
                    description: approvalReason configures reason requirements for
                      approval/rejection actions.
                    properties:
                      description:
                        description: description is help text displayed to approvers.
                        type: string
                      mandatory:
                        default: false
                        description: mandatory requires a reason for all approval/rejection
                          actions.
                        type: boolean
                      mandatoryForRejection:
                        default: true
                        description: mandatoryForRejection requires a reason specifically
                          for rejections.
                        type: boolean
                      minLength:
                        default: 10
                        description: minLength is the minimum character length for
                          the reason.
                        format: int32
                        minimum: 0
                        type: integer
                    type: object
                  approvers:
                    description: |-
                      approvers configures approval workflow for debug session requests.
                      If omitted, sessions are auto-approved for users in the allowed groups.
                    properties:
                      autoApproveFor:
                        description: autoApproveFor specifies conditions for auto-approval.
                        properties:
                          clusters:
                            description: |-
                              clusters specifies clusters where sessions are auto-approved.
                              Supports glob patterns.
                            items:
                              type: string
                            type: array
                          groups:
                            description: groups specifies groups for which sessions
                              are auto-approved.
                            items:
                              type: string
                            type: array
                        type: object
                      groups:
                        description: groups specifies groups that can approve debug
                          sessions.
                        items:
                          type: string
                        type: array
                      users:
                        description: users specifies individual users that can approve
                          debug sessions.
                        items:
                          type: string
                        type: array
                    type: object
                  audit:
                    description: audit configures audit logging for debug sessions.
                    properties:
                      destinations:
                        description: destinations specifies where audit events are
                          sent.
                        items:
                          description: AuditDestination specifies where audit events
                            are sent.
                          properties:
                            headers:
                              additionalProperties:
                                type: string
                              description: headers are additional headers for webhook
                                requests.
                              type: object
                            type:
                              description: type specifies the destination type.
                              enum:
                              - breakglass
                              - kubernetes
                              - webhook
                              type: string
                            url:
                              description: url is the webhook URL (required for webhook
                                type).
                              type: string
                          required:
                          - type
                          type: object
                        type: array
                      enableShellHistory:
                        default: true
                        description: enableShellHistory enables shell command history
                          capture.
                        type: boolean
                      enableTerminalRecording:
                        default: false
                        description: enableTerminalRecording enables recording of
                          terminal sessions.
                        type: boolean
                      enabled:
                        default: true
                        description: enabled enables audit logging for debug sessions.
                        type: boolean
                      recordingRetention:
                        default: 90d
                        description: recordingRetention specifies how long recordings
                          are kept.
                        type: string
                    type: object
                  auxiliaryResourceDefaults:
                    additionalProperties:
                      type: boolean
                    description: |-
                      auxiliaryResourceDefaults sets default enabled/disabled state for auxiliary resource categories.
                      Key is the category name, value is whether it's enabled by default.
                    type: object
                  auxiliaryResources:
                    description: |-
                      auxiliaryResources defines additional Kubernetes resources to deploy with the debug session.
                      These resources are created/deleted alongside the debug pods.
                    items:
                      description: |-
                        AuxiliaryResource defines an additional Kubernetes resource to deploy with the debug session.
                        The template field supports Go templating with session context variables.
                      properties:
                        category:
                          description: |-
                            category is the resource category for enable/disable logic.
                            Common categories: "network-isolation", "rbac", "configuration", "monitoring"
                          type: string
                        createBefore:
                          default: true
                          description: |-
                            createBefore specifies if this resource should be created before debug pods.
                            Useful for NetworkPolicies that must exist before pods start.
                          type: boolean
                        deleteAfter:
                          default: true
                          description: deleteAfter specifies if this resource should
                            be deleted after session ends.
                          type: boolean
                        description:
                          description: description explains what this resource does.
                          type: string
                        failurePolicy:
                          default: fail
                          description: failurePolicy determines behavior if resource
                            creation fails.
                          enum:
                          - fail
                          - ignore
                          - warn
                          type: string
                        name:
                          description: |-
                            name is a unique identifier for this auxiliary resource.
                            Used in status tracking and cleanup.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        optional:
                          description: |-
                            optional marks this resource as optional (same as failurePolicy=ignore).
                            Deprecated: Use failurePolicy instead.
                          type: boolean
                        template:
                          description: |-
                            template is the embedded resource template.
                            Supports Go templating with session context variables using Sprout functions.
                            See documentation for available variables and functions.
                            Mutually exclusive with templateString. Deprecated: Use templateString for new templates.
                          type: object
                          x-kubernetes-preserve-unknown-fields: true
                        templateString:
                          description: |-
                            templateString is a Go template that produces one or more YAML documents.
                            Use `---` separator for multiple resources from one definition.
                            Supports all context variables including {{ .Vars.* }} for user-provided values.
                            Mutually exclusive with template.
                          type: string
                      required:
                      - name
                      type: object
                    type: array
                  constraints:
                    description: constraints defines session duration and usage limits.
                    properties:
                      allowRenewal:
                        description: |-
                          allowRenewal controls whether session renewal is permitted.
                          When nil, defaults to true. Set to false to disable renewals.
                        type: boolean
                      defaultDuration:
                        default: 1h
                        description: defaultDuration is the default session duration
                          if not specified.
                        type: string
                      maxConcurrentSessions:
                        default: 2
                        description: maxConcurrentSessions limits concurrent debug
                          sessions per cluster.
                        format: int32
                        type: integer
                      maxDuration:
                        default: 4h
                        description: maxDuration is the maximum allowed session duration.
                        type: string
                      maxRenewals:
                        description: |-
                          maxRenewals is the maximum number of times a session can be renewed.
                          When nil, defaults to 3. Set to 0 to disallow renewals.
                          Ignored if allowRenewal is false.
                        format: int32
                        type: integer
                      renewalLimit:
                        description: renewalLimit is deprecated, use maxRenewals instead.
                        format: int32
                        type: integer
                    type: object
                  deprecated:
                    default: false
                    description: |-
                      deprecated marks this template as deprecated.
                      Deprecated templates show a warning but can still be used.
                    type: boolean
                  deprecationMessage:
                    description: |-
                      deprecationMessage explains why this template is deprecated and suggests alternatives.
                      Only displayed when deprecated is true.
                    type: string
                  description:
                    description: description provides detailed information about what
                      this template does.
                    type: string
                  displayName:
                    description: displayName is a human-readable name for this template.
                    type: string
                  expirationBehavior:
                    default: terminate
                    description: |-
                      expirationBehavior controls what happens when a session expires.
                      Options: "terminate" (default) or "notify-only".
                    enum:
                    - terminate
                    - notify-only
                    type: string
                  extraDeployVariables:
                    description: |-
                      extraDeployVariables defines user-provided variables for template rendering.
                      These values are collected from the user at session request time
                      and made available as {{ .Vars.<name> }} in all templates.
                    items:
                      description: |-
                        ExtraDeployVariable defines a user-provided variable for template rendering.
                        Variables are available as {{ .Vars.<name> }} in all templates.
                      properties:
                        advanced:
                          description: |-
                            advanced marks this variable as advanced/expert.
                            Advanced variables may be hidden behind an "Advanced" toggle in UI.
                          type: boolean
                        allowedGroups:
                          description: |-
                            allowedGroups restricts who can set this variable.
                            If empty, all users with template access can set it.
                          items:
                            type: string
                          type: array
                        default:
                          description: |-
                            default is the default value if user doesn't provide one.
                            Type must match inputType.
                          x-kubernetes-preserve-unknown-fields: true
                        description:
                          description: description provides help text for the user.
                          type: string
                        displayName:
                          description: displayName is the human-readable label shown
                            in the UI.
                          type: string
                        group:
                          description: group organizes variables into collapsible
                            sections in the UI.
                          type: string
                        inputType:
                          allOf:
                          - enum:
                            - boolean
                            - text
                            - number
                            - storageSize
                            - select
                            - multiSelect
                          - enum:
                            - boolean
                            - text
                            - number
                            - storageSize
                            - select
                            - multiSelect
                          default: text
                          description: inputType defines the UI input control and
                            value type.
                          type: string
                        name:
                          description: |-
                            name is the variable name, used as {{ .Vars.<name> }} in templates.
                            Must be a valid Go identifier (letters, digits, underscores, starting with letter).
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z][a-zA-Z0-9_]*$
                          type: string
                        options:
                          description: |-
                            options provides choices for select/multiSelect input types.
                            Required when inputType is select or multiSelect.
                          items:
                            description: SelectOption defines a choice for select/multiSelect
                              inputs.
                            properties:
                              allowedGroups:
                                description: allowedGroups restricts who can select
                                  this option.
                                items:
                                  type: string
                                type: array
                              description:
                                description: description provides additional context
                                  shown as tooltip/help.
                                type: string
                              disabled:
                                description: |-
                                  disabled prevents this option from being selected.
                                  Useful for showing unavailable options.
                                type: boolean
                              displayName:
                                description: displayName is shown in the UI (defaults
                                  to value if empty).
                                type: string
                              value:
                                description: value is the actual value stored and
                                  used in templates.
                                minLength: 1
                                type: string
                            required:
                            - value
                            type: object
                          type: array
                        required:
                          description: |-
                            required indicates this variable must be provided by the user.
                            Variables without defaults are implicitly required.
                          type: boolean
                        validation:
                          description: validation defines constraints for the input
                            value.
                          properties:
                            max:
                              description: max is the maximum value for number inputs
                                (as string).
                              type: string
                            maxItems:
                              description: maxItems is the maximum selections for
                                multiSelect inputs.
                              minimum: 1
                              type: integer
                            maxLength:
                              description: maxLength is the maximum string length
                                for text inputs.
                              minimum: 1
                              type: integer
                            maxStorage:
                              description: maxStorage is the maximum size for storageSize
                                inputs (e.g., "1Ti").
                              type: string
                            min:
                              description: min is the minimum value for number inputs
                                (as string).
                              type: string
                            minItems:
                              description: minItems is the minimum selections for
                                multiSelect inputs.
                              minimum: 0
                              type: integer
                            minLength:
                              description: minLength is the minimum string length
                                for text inputs.
                              minimum: 0
                              type: integer
                            minStorage:
                              description: minStorage is the minimum size for storageSize
                                inputs (e.g., "1Gi").
                              type: string
                            pattern:
                              description: pattern is a regex pattern for text inputs.
                              type: string
                            patternError:
                              description: patternError is a custom error message
                                when pattern fails.
                              type: string
                          type: object
                      required:
                      - name
                      type: object
                    type: array
                  failMode:
                    default: closed
                    description: |-
                      failMode specifies behavior when namespace doesn't exist or deployment fails.
                      "closed" (default) denies the session, "open" allows without deployed pods.
                    enum:
                    - open
                    - closed
                    type: string
                  gracePeriodBeforeExpiry:
                    default: 15m
                    description: |-
                      gracePeriodBeforeExpiry is the duration before expiry when users are notified.
                      Users will receive a warning notification at this interval before session expires.
                    type: string
                  hidden:
                    default: false
                    description: |-
                      hidden hides this template from the UI but allows API usage.
                      Useful for templates used by automation or internal tools.
                    type: boolean
                  impersonation:
                    description: |-
                      impersonation controls which identity is used to deploy debug resources.
                      Enables least-privilege deployment using a constrained ServiceAccount.
                    properties:
                      serviceAccountRef:
                        description: |-
                          serviceAccountRef references an existing ServiceAccount to impersonate.
                          The breakglass controller must have impersonation permissions for this SA.
                        properties:
                          name:
                            description: name is the ServiceAccount name.
                            type: string
                          namespace:
                            description: namespace is the ServiceAccount namespace.
                            type: string
                        required:
                        - name
                        - namespace
                        type: object
                    type: object
                  kubectlDebug:
                    description: |-
                      kubectlDebug configures kubectl debug operations.
                      Required when mode is "kubectl-debug" or "hybrid".
                    properties:
                      ephemeralContainers:
                        description: ephemeralContainers configures ephemeral container
                          injection.
                        properties:
                          allowPrivileged:
                            default: false
                            description: allowPrivileged allows privileged ephemeral
                              containers.
                            type: boolean
                          allowedImages:
                            description: |-
                              allowedImages restricts which images can be used for ephemeral containers.
                              Supports glob patterns. Empty means all images allowed.
                            items:
                              type: string
                            type: array
                          allowedNamespaces:
                            description: |-
                              allowedNamespaces restricts which namespaces users can debug pods in.
                              Supports pattern matching (glob-style) and label-based namespace selection.
                              Empty means all namespaces allowed.
                            properties:
                              patterns:
                                description: |-
                                  patterns contains namespace name patterns (glob-style, legacy format).
                                  Supports wildcards: "app-*", "kube-*", "prod-??-*"
                                  Empty list matches no namespaces via patterns.
                                items:
                                  type: string
                                type: array
                              selectorTerms:
                                description: |-
                                  selectorTerms enables label-based namespace selection.
                                  When specified, namespaces matching ANY term are included (OR semantics).
                                  Each term's matchLabels and matchExpressions are ANDed within the term.
                                items:
                                  description: |-
                                    NamespaceSelectorTerm represents a single selector term.
                                    All requirements within a term are ANDed together.
                                    Multiple terms are ORed (like Kubernetes node affinity).
                                  properties:
                                    matchExpressions:
                                      description: |-
                                        matchExpressions matches namespaces using set-based requirements.
                                        Multiple expressions are ANDed together.
                                      items:
                                        description: |-
                                          NamespaceSelectorRequirement is a selector requirement for namespaces.
                                          Mirrors metav1.LabelSelectorRequirement for consistency with Kubernetes patterns.
                                        properties:
                                          key:
                                            description: key is the label key the
                                              selector applies to.
                                            maxLength: 63
                                            minLength: 1
                                            type: string
                                          operator:
                                            allOf:
                                            - enum:
                                              - In
                                              - NotIn
                                              - Exists
                                              - DoesNotExist
                                            - enum:
                                              - In
                                              - NotIn
                                              - Exists
                                              - DoesNotExist
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators: In, NotIn, Exists, DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values.
                                              Required for In and NotIn operators.
                                              Must be empty for Exists and DoesNotExist.
                                            items:
                                              type: string
                                            type: array
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels matches namespaces with ALL specified labels (AND semantics).
                                        Example: {"environment": "production", "team": "sre"}
                                      type: object
                                  type: object
                                type: array
                            type: object
                          deniedNamespaces:
                            description: |-
                              deniedNamespaces blocks debugging in specific namespaces.
                              Evaluated after allowedNamespaces.
                              Supports pattern matching (glob-style) and label-based namespace selection.
                            properties:
                              patterns:
                                description: |-
                                  patterns contains namespace name patterns (glob-style, legacy format).
                                  Supports wildcards: "app-*", "kube-*", "prod-??-*"
                                  Empty list matches no namespaces via patterns.
                                items:
                                  type: string
                                type: array
                              selectorTerms:
                                description: |-
                                  selectorTerms enables label-based namespace selection.
                                  When specified, namespaces matching ANY term are included (OR semantics).
                                  Each term's matchLabels and matchExpressions are ANDed within the term.
                                items:
                                  description: |-
                                    NamespaceSelectorTerm represents a single selector term.
                                    All requirements within a term are ANDed together.
                                    Multiple terms are ORed (like Kubernetes node affinity).
                                  properties:
                                    matchExpressions:
                                      description: |-
                                        matchExpressions matches namespaces using set-based requirements.
                                        Multiple expressions are ANDed together.
                                      items:
                                        description: |-
                                          NamespaceSelectorRequirement is a selector requirement for namespaces.
                                          Mirrors metav1.LabelSelectorRequirement for consistency with Kubernetes patterns.
                                        properties:
                                          key:
                                            description: key is the label key the
                                              selector applies to.
                                            maxLength: 63
                                            minLength: 1
                                            type: string
                                          operator:
                                            allOf:
                                            - enum:
                                              - In
                                              - NotIn
                                              - Exists
                                              - DoesNotExist
                                            - enum:
                                              - In
                                              - NotIn
                                              - Exists
                                              - DoesNotExist
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators: In, NotIn, Exists, DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values.
                                              Required for In and NotIn operators.
                                              Must be empty for Exists and DoesNotExist.
                                            items:
                                              type: string
                                            type: array
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels matches namespaces with ALL specified labels (AND semantics).
                                        Example: {"environment": "production", "team": "sre"}
                                      type: object
                                  type: object
                                type: array
                            type: object
                          enabled:
                            default: false
                            description: enabled allows ephemeral container injection.
                            type: boolean
                          maxCapabilities:
                            description: maxCapabilities limits Linux capabilities
                              for ephemeral containers.
                            items:
                              type: string
                            type: array
                          requireImageDigest:
                            default: false
                            description: 'requireImageDigest requires images to use
                              @sha256: digests.'
                            type: boolean
                          requireNonRoot:
                            default: true
                            description: requireNonRoot requires ephemeral containers
                              to run as non-root.
                            type: boolean
                        type: object
                      nodeDebug:
                        description: nodeDebug configures node-level debugging.
                        properties:
                          allowedImages:
                            description: allowedImages restricts which images can
                              be used for node debug pods.
                            items:
                              type: string
                            type: array
                          enabled:
                            default: false
                            description: enabled allows node debugging.
                            type: boolean
                          hostNamespaces:
                            description: hostNamespaces configures which host namespaces
                              to share.
                            properties:
                              hostIPC:
                                default: false
                                description: hostIPC enables host IPC namespace sharing.
                                type: boolean
                              hostNetwork:
                                default: true
                                description: hostNetwork enables host network namespace
                                  sharing.
                                type: boolean
                              hostPID:
                                default: true
                                description: hostPID enables host PID namespace sharing.
                                type: boolean
                            type: object
                          nodeSelector:
                            additionalProperties:
                              type: string
                            description: nodeSelector restricts which nodes can be
                              debugged.
                            type: object
                        type: object
                      podCopy:
                        description: podCopy configures pod copy debugging.
                        properties:
                          enabled:
                            default: false
                            description: enabled allows creating debug copies of pods.
                            type: boolean
                          labels:
                            additionalProperties:
                              type: string
                            description: labels adds labels to copied pods.
                            type: object
                          targetNamespace:
                            default: debug-copies
                            description: targetNamespace specifies where copied pods
                              are created.
                            type: string
                          ttl:
                            default: 2h
                            description: ttl specifies how long copied pods live before
                              auto-deletion.
                            type: string
                        type: object
                    type: object
                  labels:
                    additionalProperties:
                      type: string
                    description: labels are additional labels applied to all resources
                      created by this template.
                    type: object
                  mode:
                    default: workload
                    description: |-
                      mode specifies the debug session mode: "workload", "kubectl-debug", or "hybrid".
                      Defaults to "workload" for backward compatibility.
                    enum:
                    - workload
                    - kubectl-debug
                    - hybrid
                    type: string
                  namespaceConstraints:
                    description: |-
                      namespaceConstraints defines where debug pods can be deployed.
                      Allows user choice within administrator-defined boundaries.
                    properties:
                      allowUserNamespace:
                        default: false
                        description: |-
                          allowUserNamespace allows users to request a specific namespace.
                          If false, only defaultNamespace is used.
                        type: boolean
                      allowedNamespaces:
                        description: |-
                          allowedNamespaces specifies namespaces where debug pods can be deployed.
                          Uses NamespaceFilter for pattern and label-based selection.
                          If empty, only defaultNamespace is allowed.
                        properties:
                          patterns:
                            description: |-
                              patterns contains namespace name patterns (glob-style, legacy format).
                              Supports wildcards: "app-*", "kube-*", "prod-??-*"
                              Empty list matches no namespaces via patterns.
                            items:
                              type: string
                            type: array
                          selectorTerms:
                            description: |-
                              selectorTerms enables label-based namespace selection.
                              When specified, namespaces matching ANY term are included (OR semantics).
                              Each term's matchLabels and matchExpressions are ANDed within the term.
                            items:
                              description: |-
                                NamespaceSelectorTerm represents a single selector term.
                                All requirements within a term are ANDed together.
                                Multiple terms are ORed (like Kubernetes node affinity).
                              properties:
                                matchExpressions:
                                  description: |-
                                    matchExpressions matches namespaces using set-based requirements.
                                    Multiple expressions are ANDed together.
                                  items:
                                    description: |-
                                      NamespaceSelectorRequirement is a selector requirement for namespaces.
                                      Mirrors metav1.LabelSelectorRequirement for consistency with Kubernetes patterns.
                                    properties:
                                      key:
                                        description: key is the label key the selector
                                          applies to.
                                        maxLength: 63
                                        minLength: 1
                                        type: string
                                      operator:
                                        allOf:
                                        - enum:
                                          - In
                                          - NotIn
                                          - Exists
                                          - DoesNotExist
                                        - enum:
                                          - In
                                          - NotIn
                                          - Exists
                                          - DoesNotExist
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators: In, NotIn, Exists, DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values.
                                          Required for In and NotIn operators.
                                          Must be empty for Exists and DoesNotExist.
                                        items:
                                          type: string
                                        type: array
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels matches namespaces with ALL specified labels (AND semantics).
                                    Example: {"environment": "production", "team": "sre"}
                                  type: object
                              type: object
                            type: array
                        type: object
                      createIfNotExists:
                        default: false
                        description: |-
                          createIfNotExists creates the target namespace if it doesn't exist.
                          Requires appropriate RBAC permissions.
                        type: boolean
                      defaultNamespace:
                        default: breakglass-debug
                        description: |-
                          defaultNamespace is used when user doesn't specify a namespace.
                          Must be within allowedNamespaces if specified.
                        type: string
                      deniedNamespaces:
                        description: |-
                          deniedNamespaces specifies namespaces that are never allowed.
                          Evaluated AFTER allowedNamespaces (deny takes precedence).
                        properties:
                          patterns:
                            description: |-
                              patterns contains namespace name patterns (glob-style, legacy format).
                              Supports wildcards: "app-*", "kube-*", "prod-??-*"
                              Empty list matches no namespaces via patterns.
                            items:
                              type: string
                            type: array
                          selectorTerms:
                            description: |-
                              selectorTerms enables label-based namespace selection.
                              When specified, namespaces matching ANY term are included (OR semantics).
                              Each term's matchLabels and matchExpressions are ANDed within the term.
                            items:
                              description: |-
                                NamespaceSelectorTerm represents a single selector term.
                                All requirements within a term are ANDed together.
                                Multiple terms are ORed (like Kubernetes node affinity).
                              properties:
                                matchExpressions:
                                  description: |-
                                    matchExpressions matches namespaces using set-based requirements.
                                    Multiple expressions are ANDed together.
                                  items:
                                    description: |-
                                      NamespaceSelectorRequirement is a selector requirement for namespaces.
                                      Mirrors metav1.LabelSelectorRequirement for consistency with Kubernetes patterns.
                                    properties:
                                      key:
                                        description: key is the label key the selector
                                          applies to.
                                        maxLength: 63
                                        minLength: 1
                                        type: string
                                      operator:
                                        allOf:
                                        - enum:
                                          - In
                                          - NotIn
                                          - Exists
                                          - DoesNotExist
                                        - enum:
                                          - In
                                          - NotIn
                                          - Exists
                                          - DoesNotExist
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators: In, NotIn, Exists, DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values.
                                          Required for In and NotIn operators.
                                          Must be empty for Exists and DoesNotExist.
                                        items:
                                          type: string
                                        type: array
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels matches namespaces with ALL specified labels (AND semantics).
                                    Example: {"environment": "production", "team": "sre"}
                                  type: object
                              type: object
                            type: array
                        type: object
                      namespaceLabels:
                        additionalProperties:
                          type: string
                        description: |-
                          namespaceLabels are labels applied to created namespaces.
                          Only used when createIfNotExists=true.
                        type: object
                    type: object
                  notification:
                    description: notification configures notification settings for
                      debug sessions using this template.
                    properties:
                      additionalRecipients:
                        description: additionalRecipients are extra email addresses
                          to notify (beyond requester/approvers).
                        items:
                          type: string
                        type: array
                      enabled:
                        default: true
                        description: enabled enables/disables notifications for debug
                          sessions.
                        type: boolean
                      excludedRecipients:
                        description: |-
                          excludedRecipients are users/groups that should never receive notifications.
                          Uses the same NotificationExclusions type as BreakglassEscalation for consistency.
                        properties:
                          groups:
                            description: groups is a list of approver groups to exclude
                              from notifications
                            items:
                              type: string
                            type: array
                          users:
                            description: users is a list of user emails/usernames
                              to exclude from notifications
                            items:
                              type: string
                            type: array
                        type: object
                      notifyOnApproval:
                        default: true
                        description: notifyOnApproval sends notifications when a session
                          is approved/rejected.
                        type: boolean
                      notifyOnExpiry:
                        default: true
                        description: notifyOnExpiry sends notifications when a session
                          is about to expire.
                        type: boolean
                      notifyOnRequest:
                        default: true
                        description: notifyOnRequest sends notifications when a session
                          is requested.
                        type: boolean
                      notifyOnTermination:
                        default: true
                        description: notifyOnTermination sends notifications when
                          a session is terminated.
                        type: boolean
                    type: object
                  podDisruptionBudget:
                    description: |-
                      podDisruptionBudget configures disruption tolerance for debug pods.
                      Useful for long-running debug sessions that shouldn't be evicted.
                    properties:
                      enabled:
                        default: false
                        description: enabled creates a PDB for debug pods.
                        type: boolean
                      maxUnavailable:
                        description: maxUnavailable specifies the maximum number of
                          debug pods that can be unavailable.
                        format: int32
                        type: integer
                      minAvailable:
                        description: minAvailable specifies the minimum number of
                          debug pods that must be available.
                        format: int32
                        type: integer
                    type: object
                  podOverrides:
                    description: |-
                      podOverrides allows overriding specific fields in the referenced pod template.
                      Merged with the base template using strategic merge patch.
                    properties:
                      spec:
                        description: spec contains pod spec overrides.
                        properties:
                          containers:
                            description: containers contains container-level overrides.
                            items:
                              description: DebugContainerOverride allows overriding
                                container settings.
                              properties:
                                env:
                                  description: env adds environment variables to the
                                    container.
                                  items:
                                    description: EnvVar represents an environment
                                      variable present in a Container.
                                    properties:
                                      name:
                                        description: |-
                                          Name of the environment variable.
                                          May consist of any printable ASCII characters except '='.
                                        type: string
                                      value:
                                        description: |-
                                          Variable references $(VAR_NAME) are expanded
                                          using the previously defined environment variables in the container and
                                          any service environment variables. If a variable cannot be resolved,
                                          the reference in the input string will be unchanged. Double $$ are reduced
                                          to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                          "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                          Escaped references will never be expanded, regardless of whether the variable
                                          exists or not.
                                          Defaults to "".
                                        type: string
                                      valueFrom:
                                        description: Source for the environment variable's
                                          value. Cannot be used if value is not empty.
                                        properties:
                                          configMapKeyRef:
                                            description: Selects a key of a ConfigMap.
                                            properties:
                                              key:
                                                description: The key to select.
                                                type: string
                                              name:
                                                default: ""
                                                description: |-
                                                  Name of the referent.
                                                  This field is effectively required, but due to backwards compatibility is
                                                  allowed to be empty. Instances of this type with an empty value here are
                                                  almost certainly wrong.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                type: string
                                              optional:
                                                description: Specify whether the ConfigMap
                                                  or its key must be defined
                                                type: boolean
                                            required:
                                            - key
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          fieldRef:
                                            description: |-
                                              Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
                                              spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
                                            properties:
                                              apiVersion:
                                                description: Version of the schema
                                                  the FieldPath is written in terms
                                                  of, defaults to "v1".
                                                type: string
                                              fieldPath:
                                                description: Path of the field to
                                                  select in the specified API version.
                                                type: string
                                            required:
                                            - fieldPath
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          fileKeyRef:
                                            description: |-
                                              FileKeyRef selects a key of the env file.
                                              Requires the EnvFiles feature gate to be enabled.
                                            properties:
                                              key:
                                                description: |-
                                                  The key within the env file. An invalid key will prevent the pod from starting.
                                                  The keys defined within a source may consist of any printable ASCII characters except '='.
                                                  During Alpha stage of the EnvFiles feature gate, the key size is limited to 128 characters.
                                                type: string
                                              optional:
                                                default: false
                                                description: |-
                                                  Specify whether the file or its key must be defined. If the file or key
                                                  does not exist, then the env var is not published.
                                                  If optional is set to true and the specified key does not exist,
                                                  the environment variable will not be set in the Pod's containers.

                                                  If optional is set to false and the specified key does not exist,
                                                  an error will be returned during Pod creation.
                                                type: boolean
                                              path:
                                                description: |-
                                                  The path within the volume from which to select the file.
                                                  Must be relative and may not contain the '..' path or start with '..'.
                                                type: string
                                              volumeName:
                                                description: The name of the volume
                                                  mount containing the env file.
                                                type: string
                                            required:
                                            - key
                                            - path
                                            - volumeName
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          resourceFieldRef:
                                            description: |-
                                              Selects a resource of the container: only resources limits and requests
                                              (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
                                            properties:
                                              containerName:
                                                description: 'Container name: required
                                                  for volumes, optional for env vars'
                                                type: string
                                              divisor:
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: Specifies the output
                                                  format of the exposed resources,
                                                  defaults to "1"
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              resource:
                                                description: 'Required: resource to
                                                  select'
                                                type: string
                                            required:
                                            - resource
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          secretKeyRef:
                                            description: Selects a key of a secret
                                              in the pod's namespace
                                            properties:
                                              key:
                                                description: The key of the secret
                                                  to select from.  Must be a valid
                                                  secret key.
                                                type: string
                                              name:
                                                default: ""
                                                description: |-
                                                  Name of the referent.
                                                  This field is effectively required, but due to backwards compatibility is
                                                  allowed to be empty. Instances of this type with an empty value here are
                                                  almost certainly wrong.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                type: string
                                              optional:
                                                description: Specify whether the Secret
                                                  or its key must be defined
                                                type: boolean
                                            required:
                                            - key
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type: object
                                    required:
                                    - name
                                    type: object
                                  type: array
                                name:
                                  description: name is the name of the container to
                                    override.
                                  type: string
                                resources:
                                  description: resources overrides the container's
                                    resource requirements.
                                  properties:
                                    claims:
                                      description: |-
                                        Claims lists the names of resources, defined in spec.resourceClaims,
                                        that are used by this container.

                                        This field depends on the
                                        DynamicResourceAllocation feature gate.

                                        This field is immutable. It can only be set for containers.
                                      items:
                                        description: ResourceClaim references one
                                          entry in PodSpec.ResourceClaims.
                                        properties:
                                          name:
                                            description: |-
                                              Name must match the name of one entry in pod.spec.resourceClaims of
                                              the Pod where this field is used. It makes that resource available
                                              inside a container.
                                            type: string
                                          request:
                                            description: |-
                                              Request is the name chosen for a request in the referenced claim.
                                              If empty, everything from the claim is made available, otherwise
                                              only the result of this request.
                                            type: string
                                        required:
                                        - name
                                        type: object
                                      type: array
                                      x-kubernetes-list-map-keys:
                                      - name
                                      x-kubernetes-list-type: map
                                    limits:
                                      additionalProperties:
                                        anyOf:
                                        - type: integer
                                        - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      description: |-
                                        Limits describes the maximum amount of compute resources allowed.
                                        More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                      type: object
                                    requests:
                                      additionalProperties:
                                        anyOf:
                                        - type: integer
                                        - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      description: |-
                                        Requests describes the minimum amount of compute resources required.
                                        If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                                        otherwise to an implementation-defined value. Requests cannot exceed Limits.
                                        More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                      type: object
                                  type: object
                                securityContext:
                                  description: securityContext overrides the container's
                                    security context.
                                  properties:
                                    allowPrivilegeEscalation:
                                      description: |-
                                        AllowPrivilegeEscalation controls whether a process can gain more
                                        privileges than its parent process. This bool directly controls if
                                        the no_new_privs flag will be set on the container process.
                                        AllowPrivilegeEscalation is true always when the container is:
                                        1) run as Privileged
                                        2) has CAP_SYS_ADMIN
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: boolean
                                    appArmorProfile:
                                      description: |-
                                        appArmorProfile is the AppArmor options to use by this container. If set, this profile
                                        overrides the pod's appArmorProfile.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        localhostProfile:
                                          description: |-
                                            localhostProfile indicates a profile loaded on the node that should be used.
                                            The profile must be preconfigured on the node to work.
                                            Must match the loaded name of the profile.
                                            Must be set if and only if type is "Localhost".
                                          type: string
                                        type:
                                          description: |-
                                            type indicates which kind of AppArmor profile will be applied.
                                            Valid options are:
                                              Localhost - a profile pre-loaded on the node.
                                              RuntimeDefault - the container runtime's default profile.
                                              Unconfined - no AppArmor enforcement.
                                          type: string
                                      required:
                                      - type
                                      type: object
                                    capabilities:
                                      description: |-
                                        The capabilities to add/drop when running containers.
                                        Defaults to the default set of capabilities granted by the container runtime.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        add:
                                          description: Added capabilities
                                          items:
                                            description: Capability represent POSIX
                                              capabilities type
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        drop:
                                          description: Removed capabilities
                                          items:
                                            description: Capability represent POSIX
                                              capabilities type
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    privileged:
                                      description: |-
                                        Run container in privileged mode.
                                        Processes in privileged containers are essentially equivalent to root on the host.
                                        Defaults to false.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: boolean
                                    procMount:
                                      description: |-
                                        procMount denotes the type of proc mount to use for the containers.
                                        The default value is Default which uses the container runtime defaults for
                                        readonly paths and masked paths.
                                        This requires the ProcMountType feature flag to be enabled.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: string
                                    readOnlyRootFilesystem:
                                      description: |-
                                        Whether this container has a read-only root filesystem.
                                        Default is false.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: boolean
                                    runAsGroup:
                                      description: |-
                                        The GID to run the entrypoint of the container process.
                                        Uses runtime default if unset.
                                        May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      format: int64
                                      type: integer
                                    runAsNonRoot:
                                      description: |-
                                        Indicates that the container must run as a non-root user.
                                        If true, the Kubelet will validate the image at runtime to ensure that it
                                        does not run as UID 0 (root) and fail to start the container if it does.
                                        If unset or false, no such validation will be performed.
                                        May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      type: boolean
                                    runAsUser:
                                      description: |-
                                        The UID to run the entrypoint of the container process.
                                        Defaults to user specified in image metadata if unspecified.
                                        May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      format: int64
                                      type: integer
                                    seLinuxOptions:
                                      description: |-
                                        The SELinux context to be applied to the container.
                                        If unspecified, the container runtime will allocate a random SELinux context for each
                                        container.  May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        level:
                                          description: Level is SELinux level label
                                            that applies to the container.
                                          type: string
                                        role:
                                          description: Role is a SELinux role label
                                            that applies to the container.
                                          type: string
                                        type:
                                          description: Type is a SELinux type label
                                            that applies to the container.
                                          type: string
                                        user:
                                          description: User is a SELinux user label
                                            that applies to the container.
                                          type: string
                                      type: object
                                    seccompProfile:
                                      description: |-
                                        The seccomp options to use by this container. If seccomp options are
                                        provided at both the pod & container level, the container options
                                        override the pod options.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        localhostProfile:
                                          description: |-
                                            localhostProfile indicates a profile defined in a file on the node should be used.
                                            The profile must be preconfigured on the node to work.
                                            Must be a descending path, relative to the kubelet's configured seccomp profile location.
                                            Must be set if type is "Localhost". Must NOT be set for any other type.
                                          type: string
                                        type:
                                          description: |-
                                            type indicates which kind of seccomp profile will be applied.
                                            Valid options are:

                                            Localhost - a profile defined in a file on the node should be used.
                                            RuntimeDefault - the container runtime default profile should be used.
                                            Unconfined - no profile should be applied.
                                          type: string
                                      required:
                                      - type
                                      type: object
                                    windowsOptions:
                                      description: |-
                                        The Windows specific settings applied to all containers.
                                        If unspecified, the options from the PodSecurityContext will be used.
                                        If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is linux.
                                      properties:
                                        gmsaCredentialSpec:
                                          description: |-
                                            GMSACredentialSpec is where the GMSA admission webhook
                                            (https://github.com/kubernetes-sigs/windows-gmsa) inlines the contents of the
                                            GMSA credential spec named by the GMSACredentialSpecName field.
                                          type: string
                                        gmsaCredentialSpecName:
                                          description: GMSACredentialSpecName is the
                                            name of the GMSA credential spec to use.
                                          type: string
                                        hostProcess:
                                          description: |-
                                            HostProcess determines if a container should be run as a 'Host Process' container.
                                            All of a Pod's containers must have the same effective HostProcess value
                                            (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers).
                                            In addition, if HostProcess is true then HostNetwork must also be set to true.
                                          type: boolean
                                        runAsUserName:
                                          description: |-
                                            The UserName in Windows to run the entrypoint of the container process.
                                            Defaults to the user specified in image metadata if unspecified.
                                            May also be set in PodSecurityContext. If set in both SecurityContext and
                                            PodSecurityContext, the value specified in SecurityContext takes precedence.
                                          type: string
                                      type: object
                                  type: object
                              required:
                              - name
                              type: object
                            type: array
                          hostIPC:
                            description: hostIPC overrides the hostIPC setting.
                            type: boolean
                          hostNetwork:
                            description: hostNetwork overrides the hostNetwork setting.
                            type: boolean
                          hostPID:
                            description: hostPID overrides the hostPID setting.
                            type: boolean
                        type: object
                    type: object
                  podOverridesTemplate:
                    description: |-
                      podOverridesTemplate is a Go template that produces pod override YAML.
                      Rendered with full context including user variables.
                      The result is merged with podTemplateRef/podTemplateString output.
                    type: string
                  podTemplateRef:
                    description: |-
                      podTemplateRef references a DebugPodTemplate for the pod specification.
                      Required when mode is "workload" or "hybrid".
                      The referenced template can itself contain {{ .Vars.* }} placeholders.
                      Mutually exclusive with podTemplateString.
                    properties:
                      name:
                        description: name is the name of the DebugPodTemplate to reference.
                        type: string
                    required:
                    - name
                    type: object
                  podTemplateString:
                    description: |-
                      podTemplateString is an inline Go template that produces pod spec YAML.
                      Use this for fully dynamic pod specifications.
                      Mutually exclusive with podTemplateRef.
                    type: string
                  priority:
                    default: 0
                    description: |-
                      priority controls the order in which templates are displayed in the UI.
                      Higher values appear first. Defaults to 0.
                    format: int32
                    type: integer
                  replicas:
                    default: 1
                    description: |-
                      replicas specifies the number of replicas for Deployment workloads.
                      Defaults to 1. Ignored for DaemonSet workloads.
                    format: int32
                    minimum: 1
                    type: integer
                  requestReason:
                    description: requestReason configures reason requirements for
                      debug session requests.
                    properties:
                      description:
                        description: description is help text displayed to users when
                          entering a reason.
                        type: string
                      mandatory:
                        default: false
                        description: mandatory requires a reason for all session requests.
                        type: boolean
                      maxLength:
                        default: 1000
                        description: maxLength is the maximum character length for
                          the reason.
                        format: int32
                        minimum: 1
                        type: integer
                      minLength:
                        default: 10
                        description: minLength is the minimum character length for
                          the reason.
                        format: int32
                        minimum: 0
                        type: integer
                      suggestedReasons:
                        description: suggestedReasons is a list of pre-defined reason
                          options for quick selection.
                        items:
                          type: string
                        type: array
                    type: object
                  requiredAuxiliaryResourceCategories:
                    description: |-
                      requiredAuxiliaryResourceCategories lists categories that MUST be enabled.
                      These cannot be disabled by bindings or users.
                    items:
                      type: string
                    type: array
                  resourceQuota:
                    description: |-
                      resourceQuota specifies resource limits for debug sessions using this template.
                      Helps prevent resource exhaustion on target clusters.
                    properties:
                      enforceResourceLimits:
                        default: true
                        description: enforceResourceLimits requires resource limits
                          on all containers.
                        type: boolean
                      enforceResourceRequests:
                        default: true
                        description: enforceResourceRequests requires resource requests
                          on all containers.
                        type: boolean
                      maxCPU:
                        description: |-
                          maxCPU limits the total CPU across all debug pods.
                          Uses Kubernetes resource quantity format (e.g., "2", "500m").
                        type: string
                      maxMemory:
                        description: |-
                          maxMemory limits the total memory across all debug pods.
                          Uses Kubernetes resource quantity format (e.g., "1Gi", "512Mi").
                        type: string
                      maxPods:
                        description: maxPods limits the maximum number of debug pods
                          per session.
                        format: int32
                        minimum: 1
                        type: integer
                      maxStorage:
                        description: maxStorage limits ephemeral storage for debug
                          pods.
                        type: string
                    type: object
                  schedulingConstraints:
                    description: |-
                      schedulingConstraints defines mandatory scheduling rules for debug pods.
                      These constraints are applied AFTER template settings and CANNOT be overridden by users.
                    properties:
                      deniedNodeLabels:
                        additionalProperties:
                          type: string
                        description: |-
                          deniedNodeLabels blocks nodes with any of these labels.
                          Key-value pairs where value can be "*" for any value.
                        type: object
                      deniedNodes:
                        description: |-
                          deniedNodes is a list of node name patterns that MUST NOT run debug pods.
                          Evaluated as glob patterns.
                        items:
                          type: string
                        type: array
                      nodeSelector:
                        additionalProperties:
                          type: string
                        description: |-
                          nodeSelector adds mandatory node labels for scheduling.
                          Merged with template's nodeSelector (constraints take precedence on conflicts).
                        type: object
                      preferredNodeAffinity:
                        description: |-
                          preferredNodeAffinity specifies soft node affinity preferences.
                          Added to template's preferred affinities.
                        items:
                          description: |-
                            An empty preferred scheduling term matches all objects with implicit weight 0
                            (i.e. it's a no-op). A null preferred scheduling term matches no objects (i.e. is also a no-op).
                          properties:
                            preference:
                              description: A node selector term, associated with the
                                corresponding weight.
                              properties:
                                matchExpressions:
                                  description: A list of node selector requirements
                                    by node's labels.
                                  items:
                                    description: |-
                                      A node selector requirement is a selector that contains values, a key, and an operator
                                      that relates the key and values.
                                    properties:
                                      key:
                                        description: The label key that the selector
                                          applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          Represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                        type: string
                                      values:
                                        description: |-
                                          An array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. If the operator is Gt or Lt, the values
                                          array must have a single element, which will be interpreted as an integer.
                                          This array is replaced during a strategic merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchFields:
                                  description: A list of node selector requirements
                                    by node's fields.
                                  items:
                                    description: |-
                                      A node selector requirement is a selector that contains values, a key, and an operator
                                      that relates the key and values.
                                    properties:
                                      key:
                                        description: The label key that the selector
                                          applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          Represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                        type: string
                                      values:
                                        description: |-
                                          An array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. If the operator is Gt or Lt, the values
                                          array must have a single element, which will be interpreted as an integer.
                                          This array is replaced during a strategic merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                              x-kubernetes-map-type: atomic
                            weight:
                              description: Weight associated with matching the corresponding
                                nodeSelectorTerm, in the range 1-100.
                              format: int32
                              type: integer
                          required:
                          - preference
                          - weight
                          type: object
                        type: array
                      preferredPodAntiAffinity:
                        description: preferredPodAntiAffinity specifies soft pod anti-affinity
                          preferences.
                        items:
                          description: The weights of all of the matched WeightedPodAffinityTerm
                            fields are added per-node to find the most preferred node(s)
                          properties:
                            podAffinityTerm:
                              description: Required. A pod affinity term, associated
                                with the corresponding weight.
                              properties:
                                labelSelector:
                                  description: |-
                                    A label query over a set of resources, in this case pods.
                                    If it's null, this PodAffinityTerm matches with no Pods.
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: |-
                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                          relates the key and values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                                matchLabelKeys:
                                  description: |-
                                    MatchLabelKeys is a set of pod label keys to select which pods will
                                    be taken into consideration. The keys are used to lookup values from the
                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                    to select the group of existing pods which pods will be taken into consideration
                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                    pod labels will be ignored. The default value is empty.
                                    The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                    Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                mismatchLabelKeys:
                                  description: |-
                                    MismatchLabelKeys is a set of pod label keys to select which pods will
                                    be taken into consideration. The keys are used to lookup values from the
                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                    to select the group of existing pods which pods will be taken into consideration
                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                    pod labels will be ignored. The default value is empty.
                                    The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                    Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                namespaceSelector:
                                  description: |-
                                    A label query over the set of namespaces that the term applies to.
                                    The term is applied to the union of the namespaces selected by this field
                                    and the ones listed in the namespaces field.
                                    null selector and null or empty namespaces list means "this pod's namespace".
                                    An empty selector ({}) matches all namespaces.
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: |-
                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                          relates the key and values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                                namespaces:
                                  description: |-
                                    namespaces specifies a static list of namespace names that the term applies to.
                                    The term is applied to the union of the namespaces listed in this field
                                    and the ones selected by namespaceSelector.
                                    null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                topologyKey:
                                  description: |-
                                    This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                    the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                    whose value of the label with key topologyKey matches that of any node on which any of the
                                    selected pods is running.
                                    Empty topologyKey is not allowed.
                                  type: string
                              required:
                              - topologyKey
                              type: object
                            weight:
                              description: |-
                                weight associated with matching the corresponding podAffinityTerm,
                                in the range 1-100.
                              format: int32
                              type: integer
                          required:
                          - podAffinityTerm
                          - weight
                          type: object
                        type: array
                      requiredNodeAffinity:
                        description: |-
                          requiredNodeAffinity specifies hard node affinity requirements.
                          Merged with template's affinity using AND logic.
                        properties:
                          nodeSelectorTerms:
                            description: Required. A list of node selector terms.
                              The terms are ORed.
                            items:
                              description: |-
                                A null or empty node selector term matches no objects. The requirements of
                                them are ANDed.
                                The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                              properties:
                                matchExpressions:
                                  description: A list of node selector requirements
                                    by node's labels.
                                  items:
                                    description: |-
                                      A node selector requirement is a selector that contains values, a key, and an operator
                                      that relates the key and values.
                                    properties:
                                      key:
                                        description: The label key that the selector
                                          applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          Represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                        type: string
                                      values:
                                        description: |-
                                          An array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. If the operator is Gt or Lt, the values
                                          array must have a single element, which will be interpreted as an integer.
                                          This array is replaced during a strategic merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchFields:
                                  description: A list of node selector requirements
                                    by node's fields.
                                  items:
                                    description: |-
                                      A node selector requirement is a selector that contains values, a key, and an operator
                                      that relates the key and values.
                                    properties:
                                      key:
                                        description: The label key that the selector
                                          applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          Represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                        type: string
                                      values:
                                        description: |-
                                          An array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. If the operator is Gt or Lt, the values
                                          array must have a single element, which will be interpreted as an integer.
                                          This array is replaced during a strategic merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                              x-kubernetes-map-type: atomic
                            type: array
                            x-kubernetes-list-type: atomic
                        required:
                        - nodeSelectorTerms
                        type: object
                        x-kubernetes-map-type: atomic
                      requiredPodAntiAffinity:
                        description: |-
                          requiredPodAntiAffinity specifies hard pod anti-affinity rules.
                          Ensures debug pods don't co-locate inappropriately.
                        items:
                          description: |-
                            Defines a set of pods (namely those matching the labelSelector
                            relative to the given namespace(s)) that this pod should be
                            co-located (affinity) or not co-located (anti-affinity) with,
                            where co-located is defined as running on a node whose value of
                            the label with key <topologyKey> matches that of any node on which
                            a pod of the set of pods is running
                          properties:
                            labelSelector:
                              description: |-
                                A label query over a set of resources, in this case pods.
                                If it's null, this PodAffinityTerm matches with no Pods.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: |-
                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                      relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. This array is replaced during a strategic
                                          merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            matchLabelKeys:
                              description: |-
                                MatchLabelKeys is a set of pod label keys to select which pods will
                                be taken into consideration. The keys are used to lookup values from the
                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                to select the group of existing pods which pods will be taken into consideration
                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                pod labels will be ignored. The default value is empty.
                                The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                Also, matchLabelKeys cannot be set when labelSelector isn't set.
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            mismatchLabelKeys:
                              description: |-
                                MismatchLabelKeys is a set of pod label keys to select which pods will
                                be taken into consideration. The keys are used to lookup values from the
                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                to select the group of existing pods which pods will be taken into consideration
                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                pod labels will be ignored. The default value is empty.
                                The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            namespaceSelector:
                              description: |-
                                A label query over the set of namespaces that the term applies to.
                                The term is applied to the union of the namespaces selected by this field
                                and the ones listed in the namespaces field.
                                null selector and null or empty namespaces list means "this pod's namespace".
                                An empty selector ({}) matches all namespaces.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: |-
                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                      relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. This array is replaced during a strategic
                                          merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            namespaces:
                              description: |-
                                namespaces specifies a static list of namespace names that the term applies to.
                                The term is applied to the union of the namespaces listed in this field
                                and the ones selected by namespaceSelector.
                                null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            topologyKey:
                              description: |-
                                This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                whose value of the label with key topologyKey matches that of any node on which any of the
                                selected pods is running.
                                Empty topologyKey is not allowed.
                              type: string
                          required:
                          - topologyKey
                          type: object
                        type: array
                      tolerations:
                        description: |-
                          tolerations adds tolerations for debug pods.
                          Merged with template's tolerations.
                        items:
                          description: |-
                            The pod this Toleration is attached to tolerates any taint that matches
                            the triple <key,value,effect> using the matching operator <operator>.
                          properties:
                            effect:
                              description: |-
                                Effect indicates the taint effect to match. Empty means match all taint effects.
                                When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
                              type: string
                            key:
                              description: |-
                                Key is the taint key that the toleration applies to. Empty means match all taint keys.
                                If the key is empty, operator must be Exists; this combination means to match all values and all keys.
                              type: string
                            operator:
                              description: |-
                                Operator represents a key's relationship to the value.
                                Valid operators are Exists, Equal, Lt, and Gt. Defaults to Equal.
                                Exists is equivalent to wildcard for value, so that a pod can
                                tolerate all taints of a particular category.
                                Lt and Gt perform numeric comparisons (requires feature gate TaintTolerationComparisonOperators).
                              type: string
                            tolerationSeconds:
                              description: |-
                                TolerationSeconds represents the period of time the toleration (which must be
                                of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
                                it is not set, which means tolerate the taint forever (do not evict). Zero and
                                negative values will be treated as 0 (evict immediately) by the system.
                              format: int64
                              type: integer
                            value:
                              description: |-
                                Value is the taint value the toleration matches to.
                                If the operator is Exists, the value should be empty, otherwise just a regular string.
                              type: string
                          type: object
                        type: array
                      topologySpreadConstraints:
                        description: topologySpreadConstraints controls how debug
                          pods are spread.
                        items:
                          description: TopologySpreadConstraint specifies how to spread
                            matching pods among the given topology.
                          properties:
                            labelSelector:
                              description: |-
                                LabelSelector is used to find matching pods.
                                Pods that match this label selector are counted to determine the number of pods
                                in their corresponding topology domain.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: |-
                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                      relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. This array is replaced during a strategic
                                          merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            matchLabelKeys:
                              description: |-
                                MatchLabelKeys is a set of pod label keys to select the pods over which
                                spreading will be calculated. The keys are used to lookup values from the
                                incoming pod labels, those key-value labels are ANDed with labelSelector
                                to select the group of existing pods over which spreading will be calculated
                                for the incoming pod. The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                                MatchLabelKeys cannot be set when LabelSelector isn't set.
                                Keys that don't exist in the incoming pod labels will
                                be ignored. A null or empty list means only match against labelSelector.

                                This is a beta field and requires the MatchLabelKeysInPodTopologySpread feature gate to be enabled (enabled by default).
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            maxSkew:
                              description: |-
                                MaxSkew describes the degree to which pods may be unevenly distributed.
                                When `whenUnsatisfiable=DoNotSchedule`, it is the maximum permitted difference
                                between the number of matching pods in the target topology and the global minimum.
                                The global minimum is the minimum number of matching pods in an eligible domain
                                or zero if the number of eligible domains is less than MinDomains.
                                For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                labelSelector spread as 2/2/1:
                                In this case, the global minimum is 1.
                                | zone1 | zone2 | zone3 |
                                |  P P  |  P P  |   P   |
                                - if MaxSkew is 1, incoming pod can only be scheduled to zone3 to become 2/2/2;
                                scheduling it onto zone1(zone2) would make the ActualSkew(3-1) on zone1(zone2)
                                violate MaxSkew(1).
                                - if MaxSkew is 2, incoming pod can be scheduled onto any zone.
                                When `whenUnsatisfiable=ScheduleAnyway`, it is used to give higher precedence
                                to topologies that satisfy it.
                                It's a required field. Default value is 1 and 0 is not allowed.
                              format: int32
                              type: integer
                            minDomains:
                              description: |-
                                MinDomains indicates a minimum number of eligible domains.
                                When the number of eligible domains with matching topology keys is less than minDomains,
                                Pod Topology Spread treats "global minimum" as 0, and then the calculation of Skew is performed.
                                And when the number of eligible domains with matching topology keys equals or greater than minDomains,
                                this value has no effect on scheduling.
                                As a result, when the number of eligible domains is less than minDomains,
                                scheduler won't schedule more than maxSkew Pods to those domains.
                                If value is nil, the constraint behaves as if MinDomains is equal to 1.
                                Valid values are integers greater than 0.
                                When value is not nil, WhenUnsatisfiable must be DoNotSchedule.

                                For example, in a 3-zone cluster, MaxSkew is set to 2, MinDomains is set to 5 and pods with the same
                                labelSelector spread as 2/2/2:
                                | zone1 | zone2 | zone3 |
                                |  P P  |  P P  |  P P  |
                                The number of domains is less than 5(MinDomains), so "global minimum" is treated as 0.
                                In this situation, new pod with the same labelSelector cannot be scheduled,
                                because computed skew will be 3(3 - 0) if new Pod is scheduled to any of the three zones,
                                it will violate MaxSkew.
                              format: int32
                              type: integer
                            nodeAffinityPolicy:
                              description: |-
                                NodeAffinityPolicy indicates how we will treat Pod's nodeAffinity/nodeSelector
                                when calculating pod topology spread skew. Options are:
                                - Honor: only nodes matching nodeAffinity/nodeSelector are included in the calculations.
                                - Ignore: nodeAffinity/nodeSelector are ignored. All nodes are included in the calculations.

                                If this value is nil, the behavior is equivalent to the Honor policy.
                              type: string
                            nodeTaintsPolicy:
                              description: |-
                                NodeTaintsPolicy indicates how we will treat node taints when calculating
                                pod topology spread skew. Options are:
                                - Honor: nodes without taints, along with tainted nodes for which the incoming pod
                                has a toleration, are included.
                                - Ignore: node taints are ignored. All nodes are included.

                                If this value is nil, the behavior is equivalent to the Ignore policy.
                              type: string
                            topologyKey:
                              description: |-
                                TopologyKey is the key of node labels. Nodes that have a label with this key
                                and identical values are considered to be in the same topology.
                                We consider each <key, value> as a "bucket", and try to put balanced number
                                of pods into each bucket.
                                We define a domain as a particular instance of a topology.
                                Also, we define an eligible domain as a domain whose nodes meet the requirements of
                                nodeAffinityPolicy and nodeTaintsPolicy.
                                e.g. If TopologyKey is "kubernetes.io/hostname", each Node is a domain of that topology.
                                And, if TopologyKey is "topology.kubernetes.io/zone", each zone is a domain of that topology.
                                It's a required field.
                              type: string
                            whenUnsatisfiable:
                              description: |-
                                WhenUnsatisfiable indicates how to deal with a pod if it doesn't satisfy
                                the spread constraint.
                                - DoNotSchedule (default) tells the scheduler not to schedule it.
                                - ScheduleAnyway tells the scheduler to schedule the pod in any location,
                                  but giving higher precedence to topologies that would help reduce the
                                  skew.
                                A constraint is considered "Unsatisfiable" for an incoming pod
                                if and only if every possible node assignment for that pod would violate
                                "MaxSkew" on some topology.
                                For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                labelSelector spread as 3/1/1:
                                | zone1 | zone2 | zone3 |
                                | P P P |   P   |   P   |
                                If WhenUnsatisfiable is set to DoNotSchedule, incoming pod can only be scheduled
                                to zone2(zone3) to become 3/2/1(3/1/2) as ActualSkew(2-1) on zone2(zone3) satisfies
                                MaxSkew(1). In other words, the cluster can still be imbalanced, but scheduler
                                won't make it *more* imbalanced.
                                It's a required field.
                              type: string
                          required:
                          - maxSkew
                          - topologyKey
                          - whenUnsatisfiable
                          type: object
                        type: array
                    type: object
                  schedulingOptions:
                    description: |-
                      schedulingOptions offers users a choice of predefined scheduling configurations.
                      Each option can define different node selectors, affinities, etc.
                    properties:
                      options:
                        description: options is the list of available scheduling configurations.
                        items:
                          description: SchedulingOption represents a single scheduling
                            configuration choice.
                          properties:
                            allowedGroups:
                              description: |-
                                allowedGroups restricts this option to specific groups.
                                If empty, all users with access to the template can use this option.
                              items:
                                type: string
                              type: array
                            allowedUsers:
                              description: allowedUsers restricts this option to specific
                                users.
                              items:
                                type: string
                              type: array
                            default:
                              description: |-
                                default marks this option as the pre-selected choice.
                                Only one option can be marked as default.
                              type: boolean
                            description:
                              description: description explains what this option does.
                              type: string
                            displayName:
                              description: displayName is the human-readable name
                                shown in UI.
                              type: string
                            name:
                              description: name is a unique identifier for this option
                                (used in API requests).
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            schedulingConstraints:
                              description: |-
                                schedulingConstraints are merged with the base constraints.
                                These are ADDITIVE - they cannot remove base constraints.
                              properties:
                                deniedNodeLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    deniedNodeLabels blocks nodes with any of these labels.
                                    Key-value pairs where value can be "*" for any value.
                                  type: object
                                deniedNodes:
                                  description: |-
                                    deniedNodes is a list of node name patterns that MUST NOT run debug pods.
                                    Evaluated as glob patterns.
                                  items:
                                    type: string
                                  type: array
                                nodeSelector:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    nodeSelector adds mandatory node labels for scheduling.
                                    Merged with template's nodeSelector (constraints take precedence on conflicts).
                                  type: object
                                preferredNodeAffinity:
                                  description: |-
                                    preferredNodeAffinity specifies soft node affinity preferences.
                                    Added to template's preferred affinities.
                                  items:
                                    description: |-
                                      An empty preferred scheduling term matches all objects with implicit weight 0
                                      (i.e. it's a no-op). A null preferred scheduling term matches no objects (i.e. is also a no-op).
                                    properties:
                                      preference:
                                        description: A node selector term, associated
                                          with the corresponding weight.
                                        properties:
                                          matchExpressions:
                                            description: A list of node selector requirements
                                              by node's labels.
                                            items:
                                              description: |-
                                                A node selector requirement is a selector that contains values, a key, and an operator
                                                that relates the key and values.
                                              properties:
                                                key:
                                                  description: The label key that
                                                    the selector applies to.
                                                  type: string
                                                operator:
                                                  description: |-
                                                    Represents a key's relationship to a set of values.
                                                    Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                  type: string
                                                values:
                                                  description: |-
                                                    An array of string values. If the operator is In or NotIn,
                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                    the values array must be empty. If the operator is Gt or Lt, the values
                                                    array must have a single element, which will be interpreted as an integer.
                                                    This array is replaced during a strategic merge patch.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                              - key
                                              - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchFields:
                                            description: A list of node selector requirements
                                              by node's fields.
                                            items:
                                              description: |-
                                                A node selector requirement is a selector that contains values, a key, and an operator
                                                that relates the key and values.
                                              properties:
                                                key:
                                                  description: The label key that
                                                    the selector applies to.
                                                  type: string
                                                operator:
                                                  description: |-
                                                    Represents a key's relationship to a set of values.
                                                    Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                  type: string
                                                values:
                                                  description: |-
                                                    An array of string values. If the operator is In or NotIn,
                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                    the values array must be empty. If the operator is Gt or Lt, the values
                                                    array must have a single element, which will be interpreted as an integer.
                                                    This array is replaced during a strategic merge patch.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                              - key
                                              - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      weight:
                                        description: Weight associated with matching
                                          the corresponding nodeSelectorTerm, in the
                                          range 1-100.
                                        format: int32
                                        type: integer
                                    required:
                                    - preference
                                    - weight
                                    type: object
                                  type: array
                                preferredPodAntiAffinity:
                                  description: preferredPodAntiAffinity specifies
                                    soft pod anti-affinity preferences.
                                  items:
                                    description: The weights of all of the matched
                                      WeightedPodAffinityTerm fields are added per-node
                                      to find the most preferred node(s)
                                    properties:
                                      podAffinityTerm:
                                        description: Required. A pod affinity term,
                                          associated with the corresponding weight.
                                        properties:
                                          labelSelector:
                                            description: |-
                                              A label query over a set of resources, in this case pods.
                                              If it's null, this PodAffinityTerm matches with no Pods.
                                            properties:
                                              matchExpressions:
                                                description: matchExpressions is a
                                                  list of label selector requirements.
                                                  The requirements are ANDed.
                                                items:
                                                  description: |-
                                                    A label selector requirement is a selector that contains values, a key, and an operator that
                                                    relates the key and values.
                                                  properties:
                                                    key:
                                                      description: key is the label
                                                        key that the selector applies
                                                        to.
                                                      type: string
                                                    operator:
                                                      description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                      type: string
                                                    values:
                                                      description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                      items:
                                                        type: string
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                  required:
                                                  - key
                                                  - operator
                                                  type: object
                                                type: array
                                                x-kubernetes-list-type: atomic
                                              matchLabels:
                                                additionalProperties:
                                                  type: string
                                                description: |-
                                                  matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                  map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                  operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                type: object
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          matchLabelKeys:
                                            description: |-
                                              MatchLabelKeys is a set of pod label keys to select which pods will
                                              be taken into consideration. The keys are used to lookup values from the
                                              incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                              to select the group of existing pods which pods will be taken into consideration
                                              for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                              pod labels will be ignored. The default value is empty.
                                              The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                              Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          mismatchLabelKeys:
                                            description: |-
                                              MismatchLabelKeys is a set of pod label keys to select which pods will
                                              be taken into consideration. The keys are used to lookup values from the
                                              incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                              to select the group of existing pods which pods will be taken into consideration
                                              for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                              pod labels will be ignored. The default value is empty.
                                              The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                              Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          namespaceSelector:
                                            description: |-
                                              A label query over the set of namespaces that the term applies to.
                                              The term is applied to the union of the namespaces selected by this field
                                              and the ones listed in the namespaces field.
                                              null selector and null or empty namespaces list means "this pod's namespace".
                                              An empty selector ({}) matches all namespaces.
                                            properties:
                                              matchExpressions:
                                                description: matchExpressions is a
                                                  list of label selector requirements.
                                                  The requirements are ANDed.
                                                items:
                                                  description: |-
                                                    A label selector requirement is a selector that contains values, a key, and an operator that
                                                    relates the key and values.
                                                  properties:
                                                    key:
                                                      description: key is the label
                                                        key that the selector applies
                                                        to.
                                                      type: string
                                                    operator:
                                                      description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                      type: string
                                                    values:
                                                      description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                      items:
                                                        type: string
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                  required:
                                                  - key
                                                  - operator
                                                  type: object
                                                type: array
                                                x-kubernetes-list-type: atomic
                                              matchLabels:
                                                additionalProperties:
                                                  type: string
                                                description: |-
                                                  matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                  map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                  operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                type: object
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          namespaces:
                                            description: |-
                                              namespaces specifies a static list of namespace names that the term applies to.
                                              The term is applied to the union of the namespaces listed in this field
                                              and the ones selected by namespaceSelector.
                                              null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          topologyKey:
                                            description: |-
                                              This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                              the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                              whose value of the label with key topologyKey matches that of any node on which any of the
                                              selected pods is running.
                                              Empty topologyKey is not allowed.
                                            type: string
                                        required:
                                        - topologyKey
                                        type: object
                                      weight:
                                        description: |-
                                          weight associated with matching the corresponding podAffinityTerm,
                                          in the range 1-100.
                                        format: int32
                                        type: integer
                                    required:
                                    - podAffinityTerm
                                    - weight
                                    type: object
                                  type: array
                                requiredNodeAffinity:
                                  description: |-
                                    requiredNodeAffinity specifies hard node affinity requirements.
                                    Merged with template's affinity using AND logic.
                                  properties:
                                    nodeSelectorTerms:
                                      description: Required. A list of node selector
                                        terms. The terms are ORed.
                                      items:
                                        description: |-
                                          A null or empty node selector term matches no objects. The requirements of
                                          them are ANDed.
                                          The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                                        properties:
                                          matchExpressions:
                                            description: A list of node selector requirements
                                              by node's labels.
                                            items:
                                              description: |-
                                                A node selector requirement is a selector that contains values, a key, and an operator
                                                that relates the key and values.
                                              properties:
                                                key:
                                                  description: The label key that
                                                    the selector applies to.
                                                  type: string
                                                operator:
                                                  description: |-
                                                    Represents a key's relationship to a set of values.
                                                    Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                  type: string
                                                values:
                                                  description: |-
                                                    An array of string values. If the operator is In or NotIn,
                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                    the values array must be empty. If the operator is Gt or Lt, the values
                                                    array must have a single element, which will be interpreted as an integer.
                                                    This array is replaced during a strategic merge patch.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                              - key
                                              - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchFields:
                                            description: A list of node selector requirements
                                              by node's fields.
                                            items:
                                              description: |-
                                                A node selector requirement is a selector that contains values, a key, and an operator
                                                that relates the key and values.
                                              properties:
                                                key:
                                                  description: The label key that
                                                    the selector applies to.
                                                  type: string
                                                operator:
                                                  description: |-
                                                    Represents a key's relationship to a set of values.
                                                    Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                  type: string
                                                values:
                                                  description: |-
                                                    An array of string values. If the operator is In or NotIn,
                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                    the values array must be empty. If the operator is Gt or Lt, the values
                                                    array must have a single element, which will be interpreted as an integer.
                                                    This array is replaced during a strategic merge patch.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                              - key
                                              - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      type: array
                                      x-kubernetes-list-type: atomic
                                  required:
                                  - nodeSelectorTerms
                                  type: object
                                  x-kubernetes-map-type: atomic
                                requiredPodAntiAffinity:
                                  description: |-
                                    requiredPodAntiAffinity specifies hard pod anti-affinity rules.
                                    Ensures debug pods don't co-locate inappropriately.
                                  items:
                                    description: |-
                                      Defines a set of pods (namely those matching the labelSelector
                                      relative to the given namespace(s)) that this pod should be
                                      co-located (affinity) or not co-located (anti-affinity) with,
                                      where co-located is defined as running on a node whose value of
                                      the label with key <topologyKey> matches that of any node on which
                                      a pod of the set of pods is running
                                    properties:
                                      labelSelector:
                                        description: |-
                                          A label query over a set of resources, in this case pods.
                                          If it's null, this PodAffinityTerm matches with no Pods.
                                        properties:
                                          matchExpressions:
                                            description: matchExpressions is a list
                                              of label selector requirements. The
                                              requirements are ANDed.
                                            items:
                                              description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                              properties:
                                                key:
                                                  description: key is the label key
                                                    that the selector applies to.
                                                  type: string
                                                operator:
                                                  description: |-
                                                    operator represents a key's relationship to a set of values.
                                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                                  type: string
                                                values:
                                                  description: |-
                                                    values is an array of string values. If the operator is In or NotIn,
                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                    the values array must be empty. This array is replaced during a strategic
                                                    merge patch.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                              - key
                                              - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            description: |-
                                              matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                              map is equivalent to an element of matchExpressions, whose key field is "key", the
                                              operator is "In", and the values array contains only "value". The requirements are ANDed.
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      matchLabelKeys:
                                        description: |-
                                          MatchLabelKeys is a set of pod label keys to select which pods will
                                          be taken into consideration. The keys are used to lookup values from the
                                          incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                          to select the group of existing pods which pods will be taken into consideration
                                          for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                          pod labels will be ignored. The default value is empty.
                                          The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                          Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      mismatchLabelKeys:
                                        description: |-
                                          MismatchLabelKeys is a set of pod label keys to select which pods will
                                          be taken into consideration. The keys are used to lookup values from the
                                          incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                          to select the group of existing pods which pods will be taken into consideration
                                          for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                          pod labels will be ignored. The default value is empty.
                                          The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                          Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      namespaceSelector:
                                        description: |-
                                          A label query over the set of namespaces that the term applies to.
                                          The term is applied to the union of the namespaces selected by this field
                                          and the ones listed in the namespaces field.
                                          null selector and null or empty namespaces list means "this pod's namespace".
                                          An empty selector ({}) matches all namespaces.
                                        properties:
                                          matchExpressions:
                                            description: matchExpressions is a list
                                              of label selector requirements. The
                                              requirements are ANDed.
                                            items:
                                              description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                              properties:
                                                key:
                                                  description: key is the label key
                                                    that the selector applies to.
                                                  type: string
                                                operator:
                                                  description: |-
                                                    operator represents a key's relationship to a set of values.
                                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                                  type: string
                                                values:
                                                  description: |-
                                                    values is an array of string values. If the operator is In or NotIn,
                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                    the values array must be empty. This array is replaced during a strategic
                                                    merge patch.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                              - key
                                              - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            description: |-
                                              matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                              map is equivalent to an element of matchExpressions, whose key field is "key", the
                                              operator is "In", and the values array contains only "value". The requirements are ANDed.
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      namespaces:
                                        description: |-
                                          namespaces specifies a static list of namespace names that the term applies to.
                                          The term is applied to the union of the namespaces listed in this field
                                          and the ones selected by namespaceSelector.
                                          null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      topologyKey:
                                        description: |-
                                          This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                          the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                          whose value of the label with key topologyKey matches that of any node on which any of the
                                          selected pods is running.
                                          Empty topologyKey is not allowed.
                                        type: string
                                    required:
                                    - topologyKey
                                    type: object
                                  type: array
                                tolerations:
                                  description: |-
                                    tolerations adds tolerations for debug pods.
                                    Merged with template's tolerations.
                                  items:
                                    description: |-
                                      The pod this Toleration is attached to tolerates any taint that matches
                                      the triple <key,value,effect> using the matching operator <operator>.
                                    properties:
                                      effect:
                                        description: |-
                                          Effect indicates the taint effect to match. Empty means match all taint effects.
                                          When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
                                        type: string
                                      key:
                                        description: |-
                                          Key is the taint key that the toleration applies to. Empty means match all taint keys.
                                          If the key is empty, operator must be Exists; this combination means to match all values and all keys.
                                        type: string
                                      operator:
                                        description: |-
                                          Operator represents a key's relationship to the value.
                                          Valid operators are Exists, Equal, Lt, and Gt. Defaults to Equal.
                                          Exists is equivalent to wildcard for value, so that a pod can
                                          tolerate all taints of a particular category.
                                          Lt and Gt perform numeric comparisons (requires feature gate TaintTolerationComparisonOperators).
                                        type: string
                                      tolerationSeconds:
                                        description: |-
                                          TolerationSeconds represents the period of time the toleration (which must be
                                          of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
                                          it is not set, which means tolerate the taint forever (do not evict). Zero and
                                          negative values will be treated as 0 (evict immediately) by the system.
                                        format: int64
                                        type: integer
                                      value:
                                        description: |-
                                          Value is the taint value the toleration matches to.
                                          If the operator is Exists, the value should be empty, otherwise just a regular string.
                                        type: string
                                    type: object
                                  type: array
                                topologySpreadConstraints:
                                  description: topologySpreadConstraints controls
                                    how debug pods are spread.
                                  items:
                                    description: TopologySpreadConstraint specifies
                                      how to spread matching pods among the given
                                      topology.
                                    properties:
                                      labelSelector:
                                        description: |-
                                          LabelSelector is used to find matching pods.
                                          Pods that match this label selector are counted to determine the number of pods
                                          in their corresponding topology domain.
                                        properties:
                                          matchExpressions:
                                            description: matchExpressions is a list
                                              of label selector requirements. The
                                              requirements are ANDed.
                                            items:
                                              description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                              properties:
                                                key:
                                                  description: key is the label key
                                                    that the selector applies to.
                                                  type: string
                                                operator:
                                                  description: |-
                                                    operator represents a key's relationship to a set of values.
                                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                                  type: string
                                                values:
                                                  description: |-
                                                    values is an array of string values. If the operator is In or NotIn,
                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                    the values array must be empty. This array is replaced during a strategic
                                                    merge patch.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                              - key
                                              - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            description: |-
                                              matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                              map is equivalent to an element of matchExpressions, whose key field is "key", the
                                              operator is "In", and the values array contains only "value". The requirements are ANDed.
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      matchLabelKeys:
                                        description: |-
                                          MatchLabelKeys is a set of pod label keys to select the pods over which
                                          spreading will be calculated. The keys are used to lookup values from the
                                          incoming pod labels, those key-value labels are ANDed with labelSelector
                                          to select the group of existing pods over which spreading will be calculated
                                          for the incoming pod. The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                                          MatchLabelKeys cannot be set when LabelSelector isn't set.
                                          Keys that don't exist in the incoming pod labels will
                                          be ignored. A null or empty list means only match against labelSelector.

                                          This is a beta field and requires the MatchLabelKeysInPodTopologySpread feature gate to be enabled (enabled by default).
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      maxSkew:
                                        description: |-
                                          MaxSkew describes the degree to which pods may be unevenly distributed.
                                          When `whenUnsatisfiable=DoNotSchedule`, it is the maximum permitted difference
                                          between the number of matching pods in the target topology and the global minimum.
                                          The global minimum is the minimum number of matching pods in an eligible domain
                                          or zero if the number of eligible domains is less than MinDomains.
                                          For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                          labelSelector spread as 2/2/1:
                                          In this case, the global minimum is 1.
                                          | zone1 | zone2 | zone3 |
                                          |  P P  |  P P  |   P   |
                                          - if MaxSkew is 1, incoming pod can only be scheduled to zone3 to become 2/2/2;
                                          scheduling it onto zone1(zone2) would make the ActualSkew(3-1) on zone1(zone2)
                                          violate MaxSkew(1).
                                          - if MaxSkew is 2, incoming pod can be scheduled onto any zone.
                                          When `whenUnsatisfiable=ScheduleAnyway`, it is used to give higher precedence
                                          to topologies that satisfy it.
                                          It's a required field. Default value is 1 and 0 is not allowed.
                                        format: int32
                                        type: integer
                                      minDomains:
                                        description: |-
                                          MinDomains indicates a minimum number of eligible domains.
                                          When the number of eligible domains with matching topology keys is less than minDomains,
                                          Pod Topology Spread treats "global minimum" as 0, and then the calculation of Skew is performed.
                                          And when the number of eligible domains with matching topology keys equals or greater than minDomains,
                                          this value has no effect on scheduling.
                                          As a result, when the number of eligible domains is less than minDomains,
                                          scheduler won't schedule more than maxSkew Pods to those domains.
                                          If value is nil, the constraint behaves as if MinDomains is equal to 1.
                                          Valid values are integers greater than 0.
                                          When value is not nil, WhenUnsatisfiable must be DoNotSchedule.

                                          For example, in a 3-zone cluster, MaxSkew is set to 2, MinDomains is set to 5 and pods with the same
                                          labelSelector spread as 2/2/2:
                                          | zone1 | zone2 | zone3 |
                                          |  P P  |  P P  |  P P  |
                                          The number of domains is less than 5(MinDomains), so "global minimum" is treated as 0.
                                          In this situation, new pod with the same labelSelector cannot be scheduled,
                                          because computed skew will be 3(3 - 0) if new Pod is scheduled to any of the three zones,
                                          it will violate MaxSkew.
                                        format: int32
                                        type: integer
                                      nodeAffinityPolicy:
                                        description: |-
                                          NodeAffinityPolicy indicates how we will treat Pod's nodeAffinity/nodeSelector
                                          when calculating pod topology spread skew. Options are:
                                          - Honor: only nodes matching nodeAffinity/nodeSelector are included in the calculations.
                                          - Ignore: nodeAffinity/nodeSelector are ignored. All nodes are included in the calculations.

                                          If this value is nil, the behavior is equivalent to the Honor policy.
                                        type: string
                                      nodeTaintsPolicy:
                                        description: |-
                                          NodeTaintsPolicy indicates how we will treat node taints when calculating
                                          pod topology spread skew. Options are:
                                          - Honor: nodes without taints, along with tainted nodes for which the incoming pod
                                          has a toleration, are included.
                                          - Ignore: node taints are ignored. All nodes are included.

                                          If this value is nil, the behavior is equivalent to the Ignore policy.
                                        type: string
                                      topologyKey:
                                        description: |-
                                          TopologyKey is the key of node labels. Nodes that have a label with this key
                                          and identical values are considered to be in the same topology.
                                          We consider each <key, value> as a "bucket", and try to put balanced number
                                          of pods into each bucket.
                                          We define a domain as a particular instance of a topology.
                                          Also, we define an eligible domain as a domain whose nodes meet the requirements of
                                          nodeAffinityPolicy and nodeTaintsPolicy.
                                          e.g. If TopologyKey is "kubernetes.io/hostname", each Node is a domain of that topology.
                                          And, if TopologyKey is "topology.kubernetes.io/zone", each zone is a domain of that topology.
                                          It's a required field.
                                        type: string
                                      whenUnsatisfiable:
                                        description: |-
                                          WhenUnsatisfiable indicates how to deal with a pod if it doesn't satisfy
                                          the spread constraint.
                                          - DoNotSchedule (default) tells the scheduler not to schedule it.
                                          - ScheduleAnyway tells the scheduler to schedule the pod in any location,
                                            but giving higher precedence to topologies that would help reduce the
                                            skew.
                                          A constraint is considered "Unsatisfiable" for an incoming pod
                                          if and only if every possible node assignment for that pod would violate
                                          "MaxSkew" on some topology.
                                          For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                          labelSelector spread as 3/1/1:
                                          | zone1 | zone2 | zone3 |
                                          | P P P |   P   |   P   |
                                          If WhenUnsatisfiable is set to DoNotSchedule, incoming pod can only be scheduled
                                          to zone2(zone3) to become 3/2/1(3/1/2) as ActualSkew(2-1) on zone2(zone3) satisfies
                                          MaxSkew(1). In other words, the cluster can still be imbalanced, but scheduler
                                          won't make it *more* imbalanced.
                                          It's a required field.
                                        type: string
                                    required:
                                    - maxSkew
                                    - topologyKey
                                    - whenUnsatisfiable
                                    type: object
                                  type: array
                              type: object
                          required:
                          - displayName
                          - name
                          type: object
                        minItems: 1
                        type: array
                      required:
                        default: false
                        description: |-
                          required specifies whether the user MUST select an option.
                          If false and no option is selected, base schedulingConstraints are used alone.
                        type: boolean
                    required:
                    - options
                    type: object
                  targetNamespace:
                    default: breakglass-debug
                    description: |-
                      targetNamespace specifies the namespace where debug pods are deployed.
                      Must be pre-created by an administrator.
                    type: string
                  terminalSharing:
                    description: terminalSharing configures collaborative terminal
                      sessions.
                    properties:
                      enabled:
                        default: false
                        description: enabled allows terminal sharing between participants.
                        type: boolean
                      maxParticipants:
                        default: 5
                        description: maxParticipants limits the number of users in
                          a shared session.
                        format: int32
                        type: integer
                      provider:
                        default: tmux
                        description: provider specifies the terminal multiplexer (tmux
                          or screen).
                        enum:
                        - tmux
                        - screen
                        type: string
                    type: object
                  workloadType:
                    description: |-
                      workloadType specifies the type of workload to create (DaemonSet or Deployment).
                      Required when mode is "workload" or "hybrid".
                    enum:
                    - DaemonSet
                    - Deployment
                    type: string
                type: object
              startsAt:
                description: startsAt is when the session became active.
                format: date-time
                type: string
              state:
                description: state is the current state of the debug session.
                enum:
                - Pending
                - PendingApproval
                - Active
                - Expired
                - Terminated
                - Failed
                type: string
              terminalSharing:
                description: terminalSharing contains terminal sharing information.
                properties:
                  attachCommand:
                    description: attachCommand is the command to attach to the shared
                      terminal.
                    type: string
                  enabled:
                    description: enabled indicates if terminal sharing is active.
                    type: boolean
                  sessionName:
                    description: sessionName is the tmux/screen session name.
                    type: string
                type: object
            type: object
        required:
        - spec
        type: object
    selectableFields:
    - jsonPath: .spec.cluster
    - jsonPath: .spec.requestedBy
    - jsonPath: .spec.templateRef
    - jsonPath: .status.state
    served: true
    storage: true
    subresources:
      status: {}
