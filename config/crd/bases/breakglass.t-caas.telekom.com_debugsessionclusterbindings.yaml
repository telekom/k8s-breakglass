---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.20.0
  name: debugsessionclusterbindings.breakglass.t-caas.telekom.com
spec:
  group: breakglass.t-caas.telekom.com
  names:
    kind: DebugSessionClusterBinding
    listKind: DebugSessionClusterBindingList
    plural: debugsessionclusterbindings
    shortNames:
    - dscb
    - debugbinding
    singular: debugsessionclusterbinding
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.templateRef.name
      name: Template
      type: string
    - jsonPath: .status.resolvedClusters
      name: Clusters
      type: integer
    - jsonPath: .status.activeSessionCount
      name: Active
      type: integer
    - jsonPath: .status.conditions[?(@.type=='Ready')].status
      name: Ready
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          DebugSessionClusterBinding binds DebugSessionTemplates to specific clusters
          with optional constraint overrides. This is a namespaced resource that enables
          RBAC delegation - teams can manage their own bindings in their namespace.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: |-
              DebugSessionClusterBindingSpec defines the desired state of DebugSessionClusterBinding.
              A binding provides delegated access to one or more DebugSessionTemplates on specific clusters
              with optional constraint overrides.
            properties:
              allowed:
                description: |-
                  allowed specifies which users/groups can use this binding.
                  REPLACES the template's allowed for matched clusters.
                properties:
                  clusterSelector:
                    description: |-
                      clusterSelector allows selecting clusters by labels.
                      Matched clusters are added to the allowed list (OR logic with clusters field).
                    properties:
                      matchExpressions:
                        description: matchExpressions is a list of label selector
                          requirements. The requirements are ANDed.
                        items:
                          description: |-
                            A label selector requirement is a selector that contains values, a key, and an operator that
                            relates the key and values.
                          properties:
                            key:
                              description: key is the label key that the selector
                                applies to.
                              type: string
                            operator:
                              description: |-
                                operator represents a key's relationship to a set of values.
                                Valid operators are In, NotIn, Exists and DoesNotExist.
                              type: string
                            values:
                              description: |-
                                values is an array of string values. If the operator is In or NotIn,
                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                the values array must be empty. This array is replaced during a strategic
                                merge patch.
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                          required:
                          - key
                          - operator
                          type: object
                        type: array
                        x-kubernetes-list-type: atomic
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: |-
                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                        type: object
                    type: object
                    x-kubernetes-map-type: atomic
                  clusters:
                    description: |-
                      clusters specifies which clusters this template can be used on.
                      Supports glob patterns.
                    items:
                      type: string
                    type: array
                  groups:
                    description: groups specifies groups that can request this template.
                    items:
                      type: string
                    type: array
                  users:
                    description: users specifies individual users that can request
                      this template.
                    items:
                      type: string
                    type: array
                type: object
              allowedPodOperations:
                description: |-
                  allowedPodOperations overrides which kubectl operations are permitted on debug pods.
                  Can only be MORE restrictive than the template (cannot enable operations the template disables).
                  If nil, uses the template's settings.
                properties:
                  attach:
                    default: true
                    description: attach allows attaching to running container processes
                      via kubectl attach.
                    type: boolean
                  exec:
                    default: true
                    description: |-
                      exec allows running commands inside containers via kubectl exec.
                      Note: kubectl cp uses exec internally, so disabling exec also prevents kubectl cp.
                    type: boolean
                  logs:
                    default: false
                    description: |-
                      logs allows viewing container logs via kubectl logs.
                      This is a read-only operation.
                    type: boolean
                  portForward:
                    default: true
                    description: portForward allows forwarding local ports to pod
                      ports via kubectl port-forward.
                    type: boolean
                type: object
              annotations:
                additionalProperties:
                  type: string
                description: |-
                  annotations are additional annotations applied to resources created via this binding.
                  Merged with template annotations.
                type: object
              approvalReason:
                description: approvalReason overrides approval reason requirements
                  from the template.
                properties:
                  description:
                    description: description is help text displayed to approvers.
                    type: string
                  mandatory:
                    default: false
                    description: mandatory requires a reason for all approval/rejection
                      actions.
                    type: boolean
                  mandatoryForRejection:
                    default: true
                    description: mandatoryForRejection requires a reason specifically
                      for rejections.
                    type: boolean
                  minLength:
                    default: 10
                    description: minLength is the minimum character length for the
                      reason.
                    format: int32
                    minimum: 0
                    type: integer
                type: object
              approvers:
                description: |-
                  approvers specifies who can approve sessions created via this binding.
                  REPLACES the template's approvers for matched clusters.
                properties:
                  autoApproveFor:
                    description: autoApproveFor specifies conditions for auto-approval.
                    properties:
                      clusters:
                        description: |-
                          clusters specifies clusters where sessions are auto-approved.
                          Supports glob patterns.
                        items:
                          type: string
                        type: array
                      groups:
                        description: groups specifies groups for which sessions are
                          auto-approved.
                        items:
                          type: string
                        type: array
                    type: object
                  groups:
                    description: groups specifies groups that can approve debug sessions.
                    items:
                      type: string
                    type: array
                  users:
                    description: users specifies individual users that can approve
                      debug sessions.
                    items:
                      type: string
                    type: array
                type: object
              auxiliaryResourceOverrides:
                additionalProperties:
                  type: boolean
                description: |-
                  auxiliaryResourceOverrides enables or disables specific auxiliary resource categories.
                  Categories in requiredAuxiliaryResourceCategories cannot be disabled.
                type: object
              clusterSelector:
                description: |-
                  clusterSelector matches clusters by labels on ClusterConfig resources.
                  Combined with clusters using OR logic.
                properties:
                  matchExpressions:
                    description: matchExpressions is a list of label selector requirements.
                      The requirements are ANDed.
                    items:
                      description: |-
                        A label selector requirement is a selector that contains values, a key, and an operator that
                        relates the key and values.
                      properties:
                        key:
                          description: key is the label key that the selector applies
                            to.
                          type: string
                        operator:
                          description: |-
                            operator represents a key's relationship to a set of values.
                            Valid operators are In, NotIn, Exists and DoesNotExist.
                          type: string
                        values:
                          description: |-
                            values is an array of string values. If the operator is In or NotIn,
                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                            the values array must be empty. This array is replaced during a strategic
                            merge patch.
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                      required:
                      - key
                      - operator
                      type: object
                    type: array
                    x-kubernetes-list-type: atomic
                  matchLabels:
                    additionalProperties:
                      type: string
                    description: |-
                      matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                      map is equivalent to an element of matchExpressions, whose key field is "key", the
                      operator is "In", and the values array contains only "value". The requirements are ANDed.
                    type: object
                type: object
                x-kubernetes-map-type: atomic
              clusters:
                description: clusters is a list of cluster names (exact matches, no
                  globs) this binding applies to.
                items:
                  type: string
                type: array
              constraints:
                description: |-
                  constraints are session constraints (stricter than template).
                  Values here can only be MORE restrictive than the template.
                properties:
                  allowRenewal:
                    description: |-
                      allowRenewal controls whether session renewal is permitted.
                      When nil, defaults to true. Set to false to disable renewals.
                    type: boolean
                  defaultDuration:
                    default: 1h
                    description: defaultDuration is the default session duration if
                      not specified.
                    type: string
                  maxConcurrentSessions:
                    default: 2
                    description: maxConcurrentSessions limits concurrent debug sessions
                      per cluster.
                    format: int32
                    type: integer
                  maxDuration:
                    default: 4h
                    description: maxDuration is the maximum allowed session duration.
                    type: string
                  maxRenewals:
                    description: |-
                      maxRenewals is the maximum number of times a session can be renewed.
                      When nil, defaults to 3. Set to 0 to disallow renewals.
                      Ignored if allowRenewal is false.
                    format: int32
                    type: integer
                  renewalLimit:
                    description: renewalLimit is deprecated, use maxRenewals instead.
                    format: int32
                    type: integer
                type: object
              description:
                description: description provides additional context about this binding.
                type: string
              disabled:
                default: false
                description: |-
                  disabled temporarily disables this binding.
                  Sessions cannot be created using this binding while disabled.
                type: boolean
              displayName:
                description: |-
                  displayName is the human-readable name shown in UI.
                  If set, overrides the template's displayName for this binding.
                type: string
              displayNamePrefix:
                description: |-
                  displayNamePrefix is prepended to template display names when using templateSelector.
                  Only used with templateSelector, ignored with templateRef.
                type: string
              effectiveFrom:
                description: |-
                  effectiveFrom optionally sets when this binding becomes active.
                  Before this time, the binding cannot be used.
                format: date-time
                type: string
              expiresAt:
                description: |-
                  expiresAt optionally sets an expiry time for this binding.
                  After this time, the binding becomes inactive automatically.
                format: date-time
                type: string
              hidden:
                default: false
                description: hidden hides this binding from the UI but allows API
                  usage.
                type: boolean
              impersonation:
                description: |-
                  impersonation configures ServiceAccount impersonation for deployment.
                  If set, overrides the template's impersonation configuration.
                properties:
                  serviceAccountRef:
                    description: |-
                      serviceAccountRef references an existing ServiceAccount to impersonate.
                      The breakglass controller must have impersonation permissions for this SA.
                    properties:
                      name:
                        description: name is the ServiceAccount name.
                        type: string
                      namespace:
                        description: namespace is the ServiceAccount namespace.
                        type: string
                    required:
                    - name
                    - namespace
                    type: object
                type: object
              labels:
                additionalProperties:
                  type: string
                description: |-
                  labels are additional labels applied to resources created via this binding.
                  Merged with template labels.
                type: object
              maxActiveSessionsPerUser:
                description: maxActiveSessionsPerUser limits concurrent sessions per
                  user via this binding.
                format: int32
                minimum: 1
                type: integer
              maxActiveSessionsTotal:
                description: maxActiveSessionsTotal limits total concurrent sessions
                  via this binding.
                format: int32
                minimum: 1
                type: integer
              namespaceConstraints:
                description: |-
                  namespaceConstraints defines where debug pods can be deployed.
                  Can only be MORE restrictive than the template's constraints.
                properties:
                  allowUserNamespace:
                    default: false
                    description: |-
                      allowUserNamespace allows users to request a specific namespace.
                      If false, only defaultNamespace is used.
                    type: boolean
                  allowedNamespaces:
                    description: |-
                      allowedNamespaces specifies namespaces where debug pods can be deployed.
                      Uses NamespaceFilter for pattern and label-based selection.
                      If empty, only defaultNamespace is allowed.
                    properties:
                      patterns:
                        description: |-
                          patterns contains namespace name patterns (glob-style, legacy format).
                          Supports wildcards: "app-*", "kube-*", "prod-??-*"
                          Empty list matches no namespaces via patterns.
                        items:
                          type: string
                        type: array
                      selectorTerms:
                        description: |-
                          selectorTerms enables label-based namespace selection.
                          When specified, namespaces matching ANY term are included (OR semantics).
                          Each term's matchLabels and matchExpressions are ANDed within the term.
                        items:
                          description: |-
                            NamespaceSelectorTerm represents a single selector term.
                            All requirements within a term are ANDed together.
                            Multiple terms are ORed (like Kubernetes node affinity).
                          properties:
                            matchExpressions:
                              description: |-
                                matchExpressions matches namespaces using set-based requirements.
                                Multiple expressions are ANDed together.
                              items:
                                description: |-
                                  NamespaceSelectorRequirement is a selector requirement for namespaces.
                                  Mirrors metav1.LabelSelectorRequirement for consistency with Kubernetes patterns.
                                properties:
                                  key:
                                    description: key is the label key the selector
                                      applies to.
                                    maxLength: 63
                                    minLength: 1
                                    type: string
                                  operator:
                                    allOf:
                                    - enum:
                                      - In
                                      - NotIn
                                      - Exists
                                      - DoesNotExist
                                    - enum:
                                      - In
                                      - NotIn
                                      - Exists
                                      - DoesNotExist
                                    description: |-
                                      operator represents a key's relationship to a set of values.
                                      Valid operators: In, NotIn, Exists, DoesNotExist.
                                    type: string
                                  values:
                                    description: |-
                                      values is an array of string values.
                                      Required for In and NotIn operators.
                                      Must be empty for Exists and DoesNotExist.
                                    items:
                                      type: string
                                    type: array
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                            matchLabels:
                              additionalProperties:
                                type: string
                              description: |-
                                matchLabels matches namespaces with ALL specified labels (AND semantics).
                                Example: {"environment": "production", "team": "sre"}
                              type: object
                          type: object
                        type: array
                    type: object
                  createIfNotExists:
                    default: false
                    description: |-
                      createIfNotExists creates the target namespace if it doesn't exist.
                      Requires appropriate RBAC permissions.
                    type: boolean
                  defaultNamespace:
                    default: breakglass-debug
                    description: |-
                      defaultNamespace is used when user doesn't specify a namespace.
                      Must be within allowedNamespaces if specified.
                    type: string
                  deniedNamespaces:
                    description: |-
                      deniedNamespaces specifies namespaces that are never allowed.
                      Evaluated AFTER allowedNamespaces (deny takes precedence).
                    properties:
                      patterns:
                        description: |-
                          patterns contains namespace name patterns (glob-style, legacy format).
                          Supports wildcards: "app-*", "kube-*", "prod-??-*"
                          Empty list matches no namespaces via patterns.
                        items:
                          type: string
                        type: array
                      selectorTerms:
                        description: |-
                          selectorTerms enables label-based namespace selection.
                          When specified, namespaces matching ANY term are included (OR semantics).
                          Each term's matchLabels and matchExpressions are ANDed within the term.
                        items:
                          description: |-
                            NamespaceSelectorTerm represents a single selector term.
                            All requirements within a term are ANDed together.
                            Multiple terms are ORed (like Kubernetes node affinity).
                          properties:
                            matchExpressions:
                              description: |-
                                matchExpressions matches namespaces using set-based requirements.
                                Multiple expressions are ANDed together.
                              items:
                                description: |-
                                  NamespaceSelectorRequirement is a selector requirement for namespaces.
                                  Mirrors metav1.LabelSelectorRequirement for consistency with Kubernetes patterns.
                                properties:
                                  key:
                                    description: key is the label key the selector
                                      applies to.
                                    maxLength: 63
                                    minLength: 1
                                    type: string
                                  operator:
                                    allOf:
                                    - enum:
                                      - In
                                      - NotIn
                                      - Exists
                                      - DoesNotExist
                                    - enum:
                                      - In
                                      - NotIn
                                      - Exists
                                      - DoesNotExist
                                    description: |-
                                      operator represents a key's relationship to a set of values.
                                      Valid operators: In, NotIn, Exists, DoesNotExist.
                                    type: string
                                  values:
                                    description: |-
                                      values is an array of string values.
                                      Required for In and NotIn operators.
                                      Must be empty for Exists and DoesNotExist.
                                    items:
                                      type: string
                                    type: array
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                            matchLabels:
                              additionalProperties:
                                type: string
                              description: |-
                                matchLabels matches namespaces with ALL specified labels (AND semantics).
                                Example: {"environment": "production", "team": "sre"}
                              type: object
                          type: object
                        type: array
                    type: object
                  namespaceLabels:
                    additionalProperties:
                      type: string
                    description: |-
                      namespaceLabels are labels applied to created namespaces.
                      Only used when createIfNotExists=true.
                    type: object
                type: object
              notification:
                description: notification overrides notification settings from the
                  template.
                properties:
                  additionalRecipients:
                    description: additionalRecipients are extra email addresses to
                      notify (beyond requester/approvers).
                    items:
                      type: string
                    type: array
                  enabled:
                    default: true
                    description: enabled enables/disables notifications for debug
                      sessions.
                    type: boolean
                  excludedRecipients:
                    description: |-
                      excludedRecipients are users/groups that should never receive notifications.
                      Uses the same NotificationExclusions type as BreakglassEscalation for consistency.
                    properties:
                      groups:
                        description: groups is a list of approver groups to exclude
                          from notifications
                        items:
                          type: string
                        type: array
                      users:
                        description: users is a list of user emails/usernames to exclude
                          from notifications
                        items:
                          type: string
                        type: array
                    type: object
                  notifyOnApproval:
                    default: true
                    description: notifyOnApproval sends notifications when a session
                      is approved/rejected.
                    type: boolean
                  notifyOnExpiry:
                    default: true
                    description: notifyOnExpiry sends notifications when a session
                      is about to expire.
                    type: boolean
                  notifyOnRequest:
                    default: true
                    description: notifyOnRequest sends notifications when a session
                      is requested.
                    type: boolean
                  notifyOnTermination:
                    default: true
                    description: notifyOnTermination sends notifications when a session
                      is terminated.
                    type: boolean
                type: object
              priority:
                description: priority overrides the template's priority for UI ordering.
                format: int32
                type: integer
              requestReason:
                description: requestReason overrides reason requirements from the
                  template.
                properties:
                  description:
                    description: description is help text displayed to users when
                      entering a reason.
                    type: string
                  mandatory:
                    default: false
                    description: mandatory requires a reason for all session requests.
                    type: boolean
                  maxLength:
                    default: 1000
                    description: maxLength is the maximum character length for the
                      reason.
                    format: int32
                    minimum: 1
                    type: integer
                  minLength:
                    default: 10
                    description: minLength is the minimum character length for the
                      reason.
                    format: int32
                    minimum: 0
                    type: integer
                  suggestedReasons:
                    description: suggestedReasons is a list of pre-defined reason
                      options for quick selection.
                    items:
                      type: string
                    type: array
                type: object
              requiredAuxiliaryResourceCategories:
                description: |-
                  requiredAuxiliaryResourceCategories lists categories that MUST be enabled.
                  These cannot be disabled by the binding.
                items:
                  type: string
                type: array
              schedulingConstraints:
                description: |-
                  schedulingConstraints defines mandatory scheduling rules.
                  These constraints are ADDED to the template's constraints and cannot be overridden.
                properties:
                  deniedNodeLabels:
                    additionalProperties:
                      type: string
                    description: |-
                      deniedNodeLabels blocks nodes with any of these labels.
                      Key-value pairs where value can be "*" for any value.
                    type: object
                  deniedNodes:
                    description: |-
                      deniedNodes is a list of node name patterns that MUST NOT run debug pods.
                      Evaluated as glob patterns.
                    items:
                      type: string
                    type: array
                  nodeSelector:
                    additionalProperties:
                      type: string
                    description: |-
                      nodeSelector adds mandatory node labels for scheduling.
                      Merged with template's nodeSelector (constraints take precedence on conflicts).
                    type: object
                  preferredNodeAffinity:
                    description: |-
                      preferredNodeAffinity specifies soft node affinity preferences.
                      Added to template's preferred affinities.
                    items:
                      description: |-
                        An empty preferred scheduling term matches all objects with implicit weight 0
                        (i.e. it's a no-op). A null preferred scheduling term matches no objects (i.e. is also a no-op).
                      properties:
                        preference:
                          description: A node selector term, associated with the corresponding
                            weight.
                          properties:
                            matchExpressions:
                              description: A list of node selector requirements by
                                node's labels.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchFields:
                              description: A list of node selector requirements by
                                node's fields.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                          type: object
                          x-kubernetes-map-type: atomic
                        weight:
                          description: Weight associated with matching the corresponding
                            nodeSelectorTerm, in the range 1-100.
                          format: int32
                          type: integer
                      required:
                      - preference
                      - weight
                      type: object
                    type: array
                  preferredPodAntiAffinity:
                    description: preferredPodAntiAffinity specifies soft pod anti-affinity
                      preferences.
                    items:
                      description: The weights of all of the matched WeightedPodAffinityTerm
                        fields are added per-node to find the most preferred node(s)
                      properties:
                        podAffinityTerm:
                          description: Required. A pod affinity term, associated with
                            the corresponding weight.
                          properties:
                            labelSelector:
                              description: |-
                                A label query over a set of resources, in this case pods.
                                If it's null, this PodAffinityTerm matches with no Pods.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: |-
                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                      relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. This array is replaced during a strategic
                                          merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            matchLabelKeys:
                              description: |-
                                MatchLabelKeys is a set of pod label keys to select which pods will
                                be taken into consideration. The keys are used to lookup values from the
                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                to select the group of existing pods which pods will be taken into consideration
                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                pod labels will be ignored. The default value is empty.
                                The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                Also, matchLabelKeys cannot be set when labelSelector isn't set.
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            mismatchLabelKeys:
                              description: |-
                                MismatchLabelKeys is a set of pod label keys to select which pods will
                                be taken into consideration. The keys are used to lookup values from the
                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                to select the group of existing pods which pods will be taken into consideration
                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                pod labels will be ignored. The default value is empty.
                                The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            namespaceSelector:
                              description: |-
                                A label query over the set of namespaces that the term applies to.
                                The term is applied to the union of the namespaces selected by this field
                                and the ones listed in the namespaces field.
                                null selector and null or empty namespaces list means "this pod's namespace".
                                An empty selector ({}) matches all namespaces.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: |-
                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                      relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. This array is replaced during a strategic
                                          merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            namespaces:
                              description: |-
                                namespaces specifies a static list of namespace names that the term applies to.
                                The term is applied to the union of the namespaces listed in this field
                                and the ones selected by namespaceSelector.
                                null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            topologyKey:
                              description: |-
                                This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                whose value of the label with key topologyKey matches that of any node on which any of the
                                selected pods is running.
                                Empty topologyKey is not allowed.
                              type: string
                          required:
                          - topologyKey
                          type: object
                        weight:
                          description: |-
                            weight associated with matching the corresponding podAffinityTerm,
                            in the range 1-100.
                          format: int32
                          type: integer
                      required:
                      - podAffinityTerm
                      - weight
                      type: object
                    type: array
                  requiredNodeAffinity:
                    description: |-
                      requiredNodeAffinity specifies hard node affinity requirements.
                      Merged with template's affinity using AND logic.
                    properties:
                      nodeSelectorTerms:
                        description: Required. A list of node selector terms. The
                          terms are ORed.
                        items:
                          description: |-
                            A null or empty node selector term matches no objects. The requirements of
                            them are ANDed.
                            The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                          properties:
                            matchExpressions:
                              description: A list of node selector requirements by
                                node's labels.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchFields:
                              description: A list of node selector requirements by
                                node's fields.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                          type: object
                          x-kubernetes-map-type: atomic
                        type: array
                        x-kubernetes-list-type: atomic
                    required:
                    - nodeSelectorTerms
                    type: object
                    x-kubernetes-map-type: atomic
                  requiredPodAntiAffinity:
                    description: |-
                      requiredPodAntiAffinity specifies hard pod anti-affinity rules.
                      Ensures debug pods don't co-locate inappropriately.
                    items:
                      description: |-
                        Defines a set of pods (namely those matching the labelSelector
                        relative to the given namespace(s)) that this pod should be
                        co-located (affinity) or not co-located (anti-affinity) with,
                        where co-located is defined as running on a node whose value of
                        the label with key <topologyKey> matches that of any node on which
                        a pod of the set of pods is running
                      properties:
                        labelSelector:
                          description: |-
                            A label query over a set of resources, in this case pods.
                            If it's null, this PodAffinityTerm matches with no Pods.
                          properties:
                            matchExpressions:
                              description: matchExpressions is a list of label selector
                                requirements. The requirements are ANDed.
                              items:
                                description: |-
                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                  relates the key and values.
                                properties:
                                  key:
                                    description: key is the label key that the selector
                                      applies to.
                                    type: string
                                  operator:
                                    description: |-
                                      operator represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                    type: string
                                  values:
                                    description: |-
                                      values is an array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. This array is replaced during a strategic
                                      merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchLabels:
                              additionalProperties:
                                type: string
                              description: |-
                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                              type: object
                          type: object
                          x-kubernetes-map-type: atomic
                        matchLabelKeys:
                          description: |-
                            MatchLabelKeys is a set of pod label keys to select which pods will
                            be taken into consideration. The keys are used to lookup values from the
                            incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                            to select the group of existing pods which pods will be taken into consideration
                            for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                            pod labels will be ignored. The default value is empty.
                            The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                            Also, matchLabelKeys cannot be set when labelSelector isn't set.
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                        mismatchLabelKeys:
                          description: |-
                            MismatchLabelKeys is a set of pod label keys to select which pods will
                            be taken into consideration. The keys are used to lookup values from the
                            incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                            to select the group of existing pods which pods will be taken into consideration
                            for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                            pod labels will be ignored. The default value is empty.
                            The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                            Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                        namespaceSelector:
                          description: |-
                            A label query over the set of namespaces that the term applies to.
                            The term is applied to the union of the namespaces selected by this field
                            and the ones listed in the namespaces field.
                            null selector and null or empty namespaces list means "this pod's namespace".
                            An empty selector ({}) matches all namespaces.
                          properties:
                            matchExpressions:
                              description: matchExpressions is a list of label selector
                                requirements. The requirements are ANDed.
                              items:
                                description: |-
                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                  relates the key and values.
                                properties:
                                  key:
                                    description: key is the label key that the selector
                                      applies to.
                                    type: string
                                  operator:
                                    description: |-
                                      operator represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                    type: string
                                  values:
                                    description: |-
                                      values is an array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. This array is replaced during a strategic
                                      merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchLabels:
                              additionalProperties:
                                type: string
                              description: |-
                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                              type: object
                          type: object
                          x-kubernetes-map-type: atomic
                        namespaces:
                          description: |-
                            namespaces specifies a static list of namespace names that the term applies to.
                            The term is applied to the union of the namespaces listed in this field
                            and the ones selected by namespaceSelector.
                            null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                        topologyKey:
                          description: |-
                            This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                            the labelSelector in the specified namespaces, where co-located is defined as running on a node
                            whose value of the label with key topologyKey matches that of any node on which any of the
                            selected pods is running.
                            Empty topologyKey is not allowed.
                          type: string
                      required:
                      - topologyKey
                      type: object
                    type: array
                  tolerations:
                    description: |-
                      tolerations adds tolerations for debug pods.
                      Merged with template's tolerations.
                    items:
                      description: |-
                        The pod this Toleration is attached to tolerates any taint that matches
                        the triple <key,value,effect> using the matching operator <operator>.
                      properties:
                        effect:
                          description: |-
                            Effect indicates the taint effect to match. Empty means match all taint effects.
                            When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
                          type: string
                        key:
                          description: |-
                            Key is the taint key that the toleration applies to. Empty means match all taint keys.
                            If the key is empty, operator must be Exists; this combination means to match all values and all keys.
                          type: string
                        operator:
                          description: |-
                            Operator represents a key's relationship to the value.
                            Valid operators are Exists, Equal, Lt, and Gt. Defaults to Equal.
                            Exists is equivalent to wildcard for value, so that a pod can
                            tolerate all taints of a particular category.
                            Lt and Gt perform numeric comparisons (requires feature gate TaintTolerationComparisonOperators).
                          type: string
                        tolerationSeconds:
                          description: |-
                            TolerationSeconds represents the period of time the toleration (which must be
                            of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
                            it is not set, which means tolerate the taint forever (do not evict). Zero and
                            negative values will be treated as 0 (evict immediately) by the system.
                          format: int64
                          type: integer
                        value:
                          description: |-
                            Value is the taint value the toleration matches to.
                            If the operator is Exists, the value should be empty, otherwise just a regular string.
                          type: string
                      type: object
                    type: array
                  topologySpreadConstraints:
                    description: topologySpreadConstraints controls how debug pods
                      are spread.
                    items:
                      description: TopologySpreadConstraint specifies how to spread
                        matching pods among the given topology.
                      properties:
                        labelSelector:
                          description: |-
                            LabelSelector is used to find matching pods.
                            Pods that match this label selector are counted to determine the number of pods
                            in their corresponding topology domain.
                          properties:
                            matchExpressions:
                              description: matchExpressions is a list of label selector
                                requirements. The requirements are ANDed.
                              items:
                                description: |-
                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                  relates the key and values.
                                properties:
                                  key:
                                    description: key is the label key that the selector
                                      applies to.
                                    type: string
                                  operator:
                                    description: |-
                                      operator represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                    type: string
                                  values:
                                    description: |-
                                      values is an array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. This array is replaced during a strategic
                                      merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchLabels:
                              additionalProperties:
                                type: string
                              description: |-
                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                              type: object
                          type: object
                          x-kubernetes-map-type: atomic
                        matchLabelKeys:
                          description: |-
                            MatchLabelKeys is a set of pod label keys to select the pods over which
                            spreading will be calculated. The keys are used to lookup values from the
                            incoming pod labels, those key-value labels are ANDed with labelSelector
                            to select the group of existing pods over which spreading will be calculated
                            for the incoming pod. The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                            MatchLabelKeys cannot be set when LabelSelector isn't set.
                            Keys that don't exist in the incoming pod labels will
                            be ignored. A null or empty list means only match against labelSelector.

                            This is a beta field and requires the MatchLabelKeysInPodTopologySpread feature gate to be enabled (enabled by default).
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                        maxSkew:
                          description: |-
                            MaxSkew describes the degree to which pods may be unevenly distributed.
                            When `whenUnsatisfiable=DoNotSchedule`, it is the maximum permitted difference
                            between the number of matching pods in the target topology and the global minimum.
                            The global minimum is the minimum number of matching pods in an eligible domain
                            or zero if the number of eligible domains is less than MinDomains.
                            For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                            labelSelector spread as 2/2/1:
                            In this case, the global minimum is 1.
                            | zone1 | zone2 | zone3 |
                            |  P P  |  P P  |   P   |
                            - if MaxSkew is 1, incoming pod can only be scheduled to zone3 to become 2/2/2;
                            scheduling it onto zone1(zone2) would make the ActualSkew(3-1) on zone1(zone2)
                            violate MaxSkew(1).
                            - if MaxSkew is 2, incoming pod can be scheduled onto any zone.
                            When `whenUnsatisfiable=ScheduleAnyway`, it is used to give higher precedence
                            to topologies that satisfy it.
                            It's a required field. Default value is 1 and 0 is not allowed.
                          format: int32
                          type: integer
                        minDomains:
                          description: |-
                            MinDomains indicates a minimum number of eligible domains.
                            When the number of eligible domains with matching topology keys is less than minDomains,
                            Pod Topology Spread treats "global minimum" as 0, and then the calculation of Skew is performed.
                            And when the number of eligible domains with matching topology keys equals or greater than minDomains,
                            this value has no effect on scheduling.
                            As a result, when the number of eligible domains is less than minDomains,
                            scheduler won't schedule more than maxSkew Pods to those domains.
                            If value is nil, the constraint behaves as if MinDomains is equal to 1.
                            Valid values are integers greater than 0.
                            When value is not nil, WhenUnsatisfiable must be DoNotSchedule.

                            For example, in a 3-zone cluster, MaxSkew is set to 2, MinDomains is set to 5 and pods with the same
                            labelSelector spread as 2/2/2:
                            | zone1 | zone2 | zone3 |
                            |  P P  |  P P  |  P P  |
                            The number of domains is less than 5(MinDomains), so "global minimum" is treated as 0.
                            In this situation, new pod with the same labelSelector cannot be scheduled,
                            because computed skew will be 3(3 - 0) if new Pod is scheduled to any of the three zones,
                            it will violate MaxSkew.
                          format: int32
                          type: integer
                        nodeAffinityPolicy:
                          description: |-
                            NodeAffinityPolicy indicates how we will treat Pod's nodeAffinity/nodeSelector
                            when calculating pod topology spread skew. Options are:
                            - Honor: only nodes matching nodeAffinity/nodeSelector are included in the calculations.
                            - Ignore: nodeAffinity/nodeSelector are ignored. All nodes are included in the calculations.

                            If this value is nil, the behavior is equivalent to the Honor policy.
                          type: string
                        nodeTaintsPolicy:
                          description: |-
                            NodeTaintsPolicy indicates how we will treat node taints when calculating
                            pod topology spread skew. Options are:
                            - Honor: nodes without taints, along with tainted nodes for which the incoming pod
                            has a toleration, are included.
                            - Ignore: node taints are ignored. All nodes are included.

                            If this value is nil, the behavior is equivalent to the Ignore policy.
                          type: string
                        topologyKey:
                          description: |-
                            TopologyKey is the key of node labels. Nodes that have a label with this key
                            and identical values are considered to be in the same topology.
                            We consider each <key, value> as a "bucket", and try to put balanced number
                            of pods into each bucket.
                            We define a domain as a particular instance of a topology.
                            Also, we define an eligible domain as a domain whose nodes meet the requirements of
                            nodeAffinityPolicy and nodeTaintsPolicy.
                            e.g. If TopologyKey is "kubernetes.io/hostname", each Node is a domain of that topology.
                            And, if TopologyKey is "topology.kubernetes.io/zone", each zone is a domain of that topology.
                            It's a required field.
                          type: string
                        whenUnsatisfiable:
                          description: |-
                            WhenUnsatisfiable indicates how to deal with a pod if it doesn't satisfy
                            the spread constraint.
                            - DoNotSchedule (default) tells the scheduler not to schedule it.
                            - ScheduleAnyway tells the scheduler to schedule the pod in any location,
                              but giving higher precedence to topologies that would help reduce the
                              skew.
                            A constraint is considered "Unsatisfiable" for an incoming pod
                            if and only if every possible node assignment for that pod would violate
                            "MaxSkew" on some topology.
                            For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                            labelSelector spread as 3/1/1:
                            | zone1 | zone2 | zone3 |
                            | P P P |   P   |   P   |
                            If WhenUnsatisfiable is set to DoNotSchedule, incoming pod can only be scheduled
                            to zone2(zone3) to become 3/2/1(3/1/2) as ActualSkew(2-1) on zone2(zone3) satisfies
                            MaxSkew(1). In other words, the cluster can still be imbalanced, but scheduler
                            won't make it *more* imbalanced.
                            It's a required field.
                          type: string
                      required:
                      - maxSkew
                      - topologyKey
                      - whenUnsatisfiable
                      type: object
                    type: array
                type: object
              schedulingOptions:
                description: |-
                  schedulingOptions offers users a choice of predefined scheduling configurations.
                  Each option can add additional constraints on top of schedulingConstraints.
                properties:
                  options:
                    description: options is the list of available scheduling configurations.
                    items:
                      description: SchedulingOption represents a single scheduling
                        configuration choice.
                      properties:
                        allowedGroups:
                          description: |-
                            allowedGroups restricts this option to specific groups.
                            If empty, all users with access to the template can use this option.
                          items:
                            type: string
                          type: array
                        allowedUsers:
                          description: allowedUsers restricts this option to specific
                            users.
                          items:
                            type: string
                          type: array
                        default:
                          description: |-
                            default marks this option as the pre-selected choice.
                            Only one option can be marked as default.
                          type: boolean
                        description:
                          description: description explains what this option does.
                          type: string
                        displayName:
                          description: displayName is the human-readable name shown
                            in UI.
                          type: string
                        name:
                          description: name is a unique identifier for this option
                            (used in API requests).
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        schedulingConstraints:
                          description: |-
                            schedulingConstraints are merged with the base constraints.
                            These are ADDITIVE - they cannot remove base constraints.
                          properties:
                            deniedNodeLabels:
                              additionalProperties:
                                type: string
                              description: |-
                                deniedNodeLabels blocks nodes with any of these labels.
                                Key-value pairs where value can be "*" for any value.
                              type: object
                            deniedNodes:
                              description: |-
                                deniedNodes is a list of node name patterns that MUST NOT run debug pods.
                                Evaluated as glob patterns.
                              items:
                                type: string
                              type: array
                            nodeSelector:
                              additionalProperties:
                                type: string
                              description: |-
                                nodeSelector adds mandatory node labels for scheduling.
                                Merged with template's nodeSelector (constraints take precedence on conflicts).
                              type: object
                            preferredNodeAffinity:
                              description: |-
                                preferredNodeAffinity specifies soft node affinity preferences.
                                Added to template's preferred affinities.
                              items:
                                description: |-
                                  An empty preferred scheduling term matches all objects with implicit weight 0
                                  (i.e. it's a no-op). A null preferred scheduling term matches no objects (i.e. is also a no-op).
                                properties:
                                  preference:
                                    description: A node selector term, associated
                                      with the corresponding weight.
                                    properties:
                                      matchExpressions:
                                        description: A list of node selector requirements
                                          by node's labels.
                                        items:
                                          description: |-
                                            A node selector requirement is a selector that contains values, a key, and an operator
                                            that relates the key and values.
                                          properties:
                                            key:
                                              description: The label key that the
                                                selector applies to.
                                              type: string
                                            operator:
                                              description: |-
                                                Represents a key's relationship to a set of values.
                                                Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                              type: string
                                            values:
                                              description: |-
                                                An array of string values. If the operator is In or NotIn,
                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                the values array must be empty. If the operator is Gt or Lt, the values
                                                array must have a single element, which will be interpreted as an integer.
                                                This array is replaced during a strategic merge patch.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                          - key
                                          - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchFields:
                                        description: A list of node selector requirements
                                          by node's fields.
                                        items:
                                          description: |-
                                            A node selector requirement is a selector that contains values, a key, and an operator
                                            that relates the key and values.
                                          properties:
                                            key:
                                              description: The label key that the
                                                selector applies to.
                                              type: string
                                            operator:
                                              description: |-
                                                Represents a key's relationship to a set of values.
                                                Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                              type: string
                                            values:
                                              description: |-
                                                An array of string values. If the operator is In or NotIn,
                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                the values array must be empty. If the operator is Gt or Lt, the values
                                                array must have a single element, which will be interpreted as an integer.
                                                This array is replaced during a strategic merge patch.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                          - key
                                          - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  weight:
                                    description: Weight associated with matching the
                                      corresponding nodeSelectorTerm, in the range
                                      1-100.
                                    format: int32
                                    type: integer
                                required:
                                - preference
                                - weight
                                type: object
                              type: array
                            preferredPodAntiAffinity:
                              description: preferredPodAntiAffinity specifies soft
                                pod anti-affinity preferences.
                              items:
                                description: The weights of all of the matched WeightedPodAffinityTerm
                                  fields are added per-node to find the most preferred
                                  node(s)
                                properties:
                                  podAffinityTerm:
                                    description: Required. A pod affinity term, associated
                                      with the corresponding weight.
                                    properties:
                                      labelSelector:
                                        description: |-
                                          A label query over a set of resources, in this case pods.
                                          If it's null, this PodAffinityTerm matches with no Pods.
                                        properties:
                                          matchExpressions:
                                            description: matchExpressions is a list
                                              of label selector requirements. The
                                              requirements are ANDed.
                                            items:
                                              description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                              properties:
                                                key:
                                                  description: key is the label key
                                                    that the selector applies to.
                                                  type: string
                                                operator:
                                                  description: |-
                                                    operator represents a key's relationship to a set of values.
                                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                                  type: string
                                                values:
                                                  description: |-
                                                    values is an array of string values. If the operator is In or NotIn,
                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                    the values array must be empty. This array is replaced during a strategic
                                                    merge patch.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                              - key
                                              - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            description: |-
                                              matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                              map is equivalent to an element of matchExpressions, whose key field is "key", the
                                              operator is "In", and the values array contains only "value". The requirements are ANDed.
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      matchLabelKeys:
                                        description: |-
                                          MatchLabelKeys is a set of pod label keys to select which pods will
                                          be taken into consideration. The keys are used to lookup values from the
                                          incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                          to select the group of existing pods which pods will be taken into consideration
                                          for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                          pod labels will be ignored. The default value is empty.
                                          The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                          Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      mismatchLabelKeys:
                                        description: |-
                                          MismatchLabelKeys is a set of pod label keys to select which pods will
                                          be taken into consideration. The keys are used to lookup values from the
                                          incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                          to select the group of existing pods which pods will be taken into consideration
                                          for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                          pod labels will be ignored. The default value is empty.
                                          The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                          Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      namespaceSelector:
                                        description: |-
                                          A label query over the set of namespaces that the term applies to.
                                          The term is applied to the union of the namespaces selected by this field
                                          and the ones listed in the namespaces field.
                                          null selector and null or empty namespaces list means "this pod's namespace".
                                          An empty selector ({}) matches all namespaces.
                                        properties:
                                          matchExpressions:
                                            description: matchExpressions is a list
                                              of label selector requirements. The
                                              requirements are ANDed.
                                            items:
                                              description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                              properties:
                                                key:
                                                  description: key is the label key
                                                    that the selector applies to.
                                                  type: string
                                                operator:
                                                  description: |-
                                                    operator represents a key's relationship to a set of values.
                                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                                  type: string
                                                values:
                                                  description: |-
                                                    values is an array of string values. If the operator is In or NotIn,
                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                    the values array must be empty. This array is replaced during a strategic
                                                    merge patch.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                              - key
                                              - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            description: |-
                                              matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                              map is equivalent to an element of matchExpressions, whose key field is "key", the
                                              operator is "In", and the values array contains only "value". The requirements are ANDed.
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      namespaces:
                                        description: |-
                                          namespaces specifies a static list of namespace names that the term applies to.
                                          The term is applied to the union of the namespaces listed in this field
                                          and the ones selected by namespaceSelector.
                                          null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      topologyKey:
                                        description: |-
                                          This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                          the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                          whose value of the label with key topologyKey matches that of any node on which any of the
                                          selected pods is running.
                                          Empty topologyKey is not allowed.
                                        type: string
                                    required:
                                    - topologyKey
                                    type: object
                                  weight:
                                    description: |-
                                      weight associated with matching the corresponding podAffinityTerm,
                                      in the range 1-100.
                                    format: int32
                                    type: integer
                                required:
                                - podAffinityTerm
                                - weight
                                type: object
                              type: array
                            requiredNodeAffinity:
                              description: |-
                                requiredNodeAffinity specifies hard node affinity requirements.
                                Merged with template's affinity using AND logic.
                              properties:
                                nodeSelectorTerms:
                                  description: Required. A list of node selector terms.
                                    The terms are ORed.
                                  items:
                                    description: |-
                                      A null or empty node selector term matches no objects. The requirements of
                                      them are ANDed.
                                      The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                                    properties:
                                      matchExpressions:
                                        description: A list of node selector requirements
                                          by node's labels.
                                        items:
                                          description: |-
                                            A node selector requirement is a selector that contains values, a key, and an operator
                                            that relates the key and values.
                                          properties:
                                            key:
                                              description: The label key that the
                                                selector applies to.
                                              type: string
                                            operator:
                                              description: |-
                                                Represents a key's relationship to a set of values.
                                                Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                              type: string
                                            values:
                                              description: |-
                                                An array of string values. If the operator is In or NotIn,
                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                the values array must be empty. If the operator is Gt or Lt, the values
                                                array must have a single element, which will be interpreted as an integer.
                                                This array is replaced during a strategic merge patch.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                          - key
                                          - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchFields:
                                        description: A list of node selector requirements
                                          by node's fields.
                                        items:
                                          description: |-
                                            A node selector requirement is a selector that contains values, a key, and an operator
                                            that relates the key and values.
                                          properties:
                                            key:
                                              description: The label key that the
                                                selector applies to.
                                              type: string
                                            operator:
                                              description: |-
                                                Represents a key's relationship to a set of values.
                                                Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                              type: string
                                            values:
                                              description: |-
                                                An array of string values. If the operator is In or NotIn,
                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                the values array must be empty. If the operator is Gt or Lt, the values
                                                array must have a single element, which will be interpreted as an integer.
                                                This array is replaced during a strategic merge patch.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                          - key
                                          - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  type: array
                                  x-kubernetes-list-type: atomic
                              required:
                              - nodeSelectorTerms
                              type: object
                              x-kubernetes-map-type: atomic
                            requiredPodAntiAffinity:
                              description: |-
                                requiredPodAntiAffinity specifies hard pod anti-affinity rules.
                                Ensures debug pods don't co-locate inappropriately.
                              items:
                                description: |-
                                  Defines a set of pods (namely those matching the labelSelector
                                  relative to the given namespace(s)) that this pod should be
                                  co-located (affinity) or not co-located (anti-affinity) with,
                                  where co-located is defined as running on a node whose value of
                                  the label with key <topologyKey> matches that of any node on which
                                  a pod of the set of pods is running
                                properties:
                                  labelSelector:
                                    description: |-
                                      A label query over a set of resources, in this case pods.
                                      If it's null, this PodAffinityTerm matches with no Pods.
                                    properties:
                                      matchExpressions:
                                        description: matchExpressions is a list of
                                          label selector requirements. The requirements
                                          are ANDed.
                                        items:
                                          description: |-
                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                            relates the key and values.
                                          properties:
                                            key:
                                              description: key is the label key that
                                                the selector applies to.
                                              type: string
                                            operator:
                                              description: |-
                                                operator represents a key's relationship to a set of values.
                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                              type: string
                                            values:
                                              description: |-
                                                values is an array of string values. If the operator is In or NotIn,
                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                the values array must be empty. This array is replaced during a strategic
                                                merge patch.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                          - key
                                          - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        description: |-
                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  matchLabelKeys:
                                    description: |-
                                      MatchLabelKeys is a set of pod label keys to select which pods will
                                      be taken into consideration. The keys are used to lookup values from the
                                      incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                      to select the group of existing pods which pods will be taken into consideration
                                      for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                      pod labels will be ignored. The default value is empty.
                                      The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                      Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  mismatchLabelKeys:
                                    description: |-
                                      MismatchLabelKeys is a set of pod label keys to select which pods will
                                      be taken into consideration. The keys are used to lookup values from the
                                      incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                      to select the group of existing pods which pods will be taken into consideration
                                      for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                      pod labels will be ignored. The default value is empty.
                                      The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                      Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  namespaceSelector:
                                    description: |-
                                      A label query over the set of namespaces that the term applies to.
                                      The term is applied to the union of the namespaces selected by this field
                                      and the ones listed in the namespaces field.
                                      null selector and null or empty namespaces list means "this pod's namespace".
                                      An empty selector ({}) matches all namespaces.
                                    properties:
                                      matchExpressions:
                                        description: matchExpressions is a list of
                                          label selector requirements. The requirements
                                          are ANDed.
                                        items:
                                          description: |-
                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                            relates the key and values.
                                          properties:
                                            key:
                                              description: key is the label key that
                                                the selector applies to.
                                              type: string
                                            operator:
                                              description: |-
                                                operator represents a key's relationship to a set of values.
                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                              type: string
                                            values:
                                              description: |-
                                                values is an array of string values. If the operator is In or NotIn,
                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                the values array must be empty. This array is replaced during a strategic
                                                merge patch.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                          - key
                                          - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        description: |-
                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  namespaces:
                                    description: |-
                                      namespaces specifies a static list of namespace names that the term applies to.
                                      The term is applied to the union of the namespaces listed in this field
                                      and the ones selected by namespaceSelector.
                                      null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  topologyKey:
                                    description: |-
                                      This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                      the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                      whose value of the label with key topologyKey matches that of any node on which any of the
                                      selected pods is running.
                                      Empty topologyKey is not allowed.
                                    type: string
                                required:
                                - topologyKey
                                type: object
                              type: array
                            tolerations:
                              description: |-
                                tolerations adds tolerations for debug pods.
                                Merged with template's tolerations.
                              items:
                                description: |-
                                  The pod this Toleration is attached to tolerates any taint that matches
                                  the triple <key,value,effect> using the matching operator <operator>.
                                properties:
                                  effect:
                                    description: |-
                                      Effect indicates the taint effect to match. Empty means match all taint effects.
                                      When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
                                    type: string
                                  key:
                                    description: |-
                                      Key is the taint key that the toleration applies to. Empty means match all taint keys.
                                      If the key is empty, operator must be Exists; this combination means to match all values and all keys.
                                    type: string
                                  operator:
                                    description: |-
                                      Operator represents a key's relationship to the value.
                                      Valid operators are Exists, Equal, Lt, and Gt. Defaults to Equal.
                                      Exists is equivalent to wildcard for value, so that a pod can
                                      tolerate all taints of a particular category.
                                      Lt and Gt perform numeric comparisons (requires feature gate TaintTolerationComparisonOperators).
                                    type: string
                                  tolerationSeconds:
                                    description: |-
                                      TolerationSeconds represents the period of time the toleration (which must be
                                      of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
                                      it is not set, which means tolerate the taint forever (do not evict). Zero and
                                      negative values will be treated as 0 (evict immediately) by the system.
                                    format: int64
                                    type: integer
                                  value:
                                    description: |-
                                      Value is the taint value the toleration matches to.
                                      If the operator is Exists, the value should be empty, otherwise just a regular string.
                                    type: string
                                type: object
                              type: array
                            topologySpreadConstraints:
                              description: topologySpreadConstraints controls how
                                debug pods are spread.
                              items:
                                description: TopologySpreadConstraint specifies how
                                  to spread matching pods among the given topology.
                                properties:
                                  labelSelector:
                                    description: |-
                                      LabelSelector is used to find matching pods.
                                      Pods that match this label selector are counted to determine the number of pods
                                      in their corresponding topology domain.
                                    properties:
                                      matchExpressions:
                                        description: matchExpressions is a list of
                                          label selector requirements. The requirements
                                          are ANDed.
                                        items:
                                          description: |-
                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                            relates the key and values.
                                          properties:
                                            key:
                                              description: key is the label key that
                                                the selector applies to.
                                              type: string
                                            operator:
                                              description: |-
                                                operator represents a key's relationship to a set of values.
                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                              type: string
                                            values:
                                              description: |-
                                                values is an array of string values. If the operator is In or NotIn,
                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                the values array must be empty. This array is replaced during a strategic
                                                merge patch.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                          - key
                                          - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        description: |-
                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  matchLabelKeys:
                                    description: |-
                                      MatchLabelKeys is a set of pod label keys to select the pods over which
                                      spreading will be calculated. The keys are used to lookup values from the
                                      incoming pod labels, those key-value labels are ANDed with labelSelector
                                      to select the group of existing pods over which spreading will be calculated
                                      for the incoming pod. The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                                      MatchLabelKeys cannot be set when LabelSelector isn't set.
                                      Keys that don't exist in the incoming pod labels will
                                      be ignored. A null or empty list means only match against labelSelector.

                                      This is a beta field and requires the MatchLabelKeysInPodTopologySpread feature gate to be enabled (enabled by default).
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  maxSkew:
                                    description: |-
                                      MaxSkew describes the degree to which pods may be unevenly distributed.
                                      When `whenUnsatisfiable=DoNotSchedule`, it is the maximum permitted difference
                                      between the number of matching pods in the target topology and the global minimum.
                                      The global minimum is the minimum number of matching pods in an eligible domain
                                      or zero if the number of eligible domains is less than MinDomains.
                                      For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                      labelSelector spread as 2/2/1:
                                      In this case, the global minimum is 1.
                                      | zone1 | zone2 | zone3 |
                                      |  P P  |  P P  |   P   |
                                      - if MaxSkew is 1, incoming pod can only be scheduled to zone3 to become 2/2/2;
                                      scheduling it onto zone1(zone2) would make the ActualSkew(3-1) on zone1(zone2)
                                      violate MaxSkew(1).
                                      - if MaxSkew is 2, incoming pod can be scheduled onto any zone.
                                      When `whenUnsatisfiable=ScheduleAnyway`, it is used to give higher precedence
                                      to topologies that satisfy it.
                                      It's a required field. Default value is 1 and 0 is not allowed.
                                    format: int32
                                    type: integer
                                  minDomains:
                                    description: |-
                                      MinDomains indicates a minimum number of eligible domains.
                                      When the number of eligible domains with matching topology keys is less than minDomains,
                                      Pod Topology Spread treats "global minimum" as 0, and then the calculation of Skew is performed.
                                      And when the number of eligible domains with matching topology keys equals or greater than minDomains,
                                      this value has no effect on scheduling.
                                      As a result, when the number of eligible domains is less than minDomains,
                                      scheduler won't schedule more than maxSkew Pods to those domains.
                                      If value is nil, the constraint behaves as if MinDomains is equal to 1.
                                      Valid values are integers greater than 0.
                                      When value is not nil, WhenUnsatisfiable must be DoNotSchedule.

                                      For example, in a 3-zone cluster, MaxSkew is set to 2, MinDomains is set to 5 and pods with the same
                                      labelSelector spread as 2/2/2:
                                      | zone1 | zone2 | zone3 |
                                      |  P P  |  P P  |  P P  |
                                      The number of domains is less than 5(MinDomains), so "global minimum" is treated as 0.
                                      In this situation, new pod with the same labelSelector cannot be scheduled,
                                      because computed skew will be 3(3 - 0) if new Pod is scheduled to any of the three zones,
                                      it will violate MaxSkew.
                                    format: int32
                                    type: integer
                                  nodeAffinityPolicy:
                                    description: |-
                                      NodeAffinityPolicy indicates how we will treat Pod's nodeAffinity/nodeSelector
                                      when calculating pod topology spread skew. Options are:
                                      - Honor: only nodes matching nodeAffinity/nodeSelector are included in the calculations.
                                      - Ignore: nodeAffinity/nodeSelector are ignored. All nodes are included in the calculations.

                                      If this value is nil, the behavior is equivalent to the Honor policy.
                                    type: string
                                  nodeTaintsPolicy:
                                    description: |-
                                      NodeTaintsPolicy indicates how we will treat node taints when calculating
                                      pod topology spread skew. Options are:
                                      - Honor: nodes without taints, along with tainted nodes for which the incoming pod
                                      has a toleration, are included.
                                      - Ignore: node taints are ignored. All nodes are included.

                                      If this value is nil, the behavior is equivalent to the Ignore policy.
                                    type: string
                                  topologyKey:
                                    description: |-
                                      TopologyKey is the key of node labels. Nodes that have a label with this key
                                      and identical values are considered to be in the same topology.
                                      We consider each <key, value> as a "bucket", and try to put balanced number
                                      of pods into each bucket.
                                      We define a domain as a particular instance of a topology.
                                      Also, we define an eligible domain as a domain whose nodes meet the requirements of
                                      nodeAffinityPolicy and nodeTaintsPolicy.
                                      e.g. If TopologyKey is "kubernetes.io/hostname", each Node is a domain of that topology.
                                      And, if TopologyKey is "topology.kubernetes.io/zone", each zone is a domain of that topology.
                                      It's a required field.
                                    type: string
                                  whenUnsatisfiable:
                                    description: |-
                                      WhenUnsatisfiable indicates how to deal with a pod if it doesn't satisfy
                                      the spread constraint.
                                      - DoNotSchedule (default) tells the scheduler not to schedule it.
                                      - ScheduleAnyway tells the scheduler to schedule the pod in any location,
                                        but giving higher precedence to topologies that would help reduce the
                                        skew.
                                      A constraint is considered "Unsatisfiable" for an incoming pod
                                      if and only if every possible node assignment for that pod would violate
                                      "MaxSkew" on some topology.
                                      For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                      labelSelector spread as 3/1/1:
                                      | zone1 | zone2 | zone3 |
                                      | P P P |   P   |   P   |
                                      If WhenUnsatisfiable is set to DoNotSchedule, incoming pod can only be scheduled
                                      to zone2(zone3) to become 3/2/1(3/1/2) as ActualSkew(2-1) on zone2(zone3) satisfies
                                      MaxSkew(1). In other words, the cluster can still be imbalanced, but scheduler
                                      won't make it *more* imbalanced.
                                      It's a required field.
                                    type: string
                                required:
                                - maxSkew
                                - topologyKey
                                - whenUnsatisfiable
                                type: object
                              type: array
                          type: object
                      required:
                      - displayName
                      - name
                      type: object
                    minItems: 1
                    type: array
                  required:
                    default: false
                    description: |-
                      required specifies whether the user MUST select an option.
                      If false and no option is selected, base schedulingConstraints are used alone.
                    type: boolean
                required:
                - options
                type: object
              templateRef:
                description: |-
                  templateRef references a single DebugSessionTemplate by name.
                  Mutually exclusive with templateSelector.
                properties:
                  name:
                    description: name is the name of the DebugSessionTemplate.
                    minLength: 1
                    type: string
                required:
                - name
                type: object
              templateSelector:
                description: |-
                  templateSelector matches multiple DebugSessionTemplates by labels.
                  Mutually exclusive with templateRef.
                properties:
                  matchExpressions:
                    description: matchExpressions is a list of label selector requirements.
                      The requirements are ANDed.
                    items:
                      description: |-
                        A label selector requirement is a selector that contains values, a key, and an operator that
                        relates the key and values.
                      properties:
                        key:
                          description: key is the label key that the selector applies
                            to.
                          type: string
                        operator:
                          description: |-
                            operator represents a key's relationship to a set of values.
                            Valid operators are In, NotIn, Exists and DoesNotExist.
                          type: string
                        values:
                          description: |-
                            values is an array of string values. If the operator is In or NotIn,
                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                            the values array must be empty. This array is replaced during a strategic
                            merge patch.
                          items:
                            type: string
                          type: array
                          x-kubernetes-list-type: atomic
                      required:
                      - key
                      - operator
                      type: object
                    type: array
                    x-kubernetes-list-type: atomic
                  matchLabels:
                    additionalProperties:
                      type: string
                    description: |-
                      matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                      map is equivalent to an element of matchExpressions, whose key field is "key", the
                      operator is "In", and the values array contains only "value". The requirements are ANDed.
                    type: object
                type: object
                x-kubernetes-map-type: atomic
            type: object
          status:
            description: DebugSessionClusterBindingStatus defines the observed state
              of DebugSessionClusterBinding.
            properties:
              activeByUser:
                additionalProperties:
                  format: int32
                  type: integer
                description: |-
                  activeByUser tracks active session counts per user.
                  Key is user email, value is active session count.
                type: object
              activeSessionCount:
                description: activeSessionCount is the number of active debug sessions
                  using this binding.
                format: int32
                type: integer
              conditions:
                description: conditions represent the latest available observations
                  of the binding's state.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              effectiveDisplayName:
                description: effectiveDisplayName shows the computed display name
                  for this binding.
                type: string
              isActive:
                description: isActive indicates if this binding is currently active
                  (not disabled, not expired, after effectiveFrom).
                type: boolean
              lastUsed:
                description: lastUsed is the timestamp of the last session created
                  using this binding.
                format: date-time
                type: string
              nameCollisions:
                description: |-
                  nameCollisions lists any detected name collisions with other bindings.
                  A collision occurs when the same template+cluster produces the same effective name.
                items:
                  description: NameCollision records a detected name collision with
                    another binding.
                  properties:
                    clusterName:
                      description: clusterName is the name of the cluster involved
                        in the collision.
                      type: string
                    collidingBinding:
                      description: collidingBinding is the name of the other binding
                        causing the collision.
                      type: string
                    collidingBindingNamespace:
                      description: collidingBindingNamespace is the namespace of the
                        colliding binding.
                      type: string
                    effectiveName:
                      description: effectiveName is the effective display name that
                        collides.
                      type: string
                    templateName:
                      description: templateName is the name of the template involved
                        in the collision.
                      type: string
                  required:
                  - clusterName
                  - collidingBinding
                  - effectiveName
                  - templateName
                  type: object
                type: array
              observedGeneration:
                description: observedGeneration is the generation last observed by
                  the controller.
                format: int64
                type: integer
              pendingSessionCount:
                description: pendingSessionCount is the number of sessions pending
                  approval.
                format: int32
                type: integer
              resolvedClusters:
                description: resolvedClusters lists the clusters matched by this binding.
                items:
                  description: ResolvedClusterRef contains information about a resolved
                    cluster.
                  properties:
                    matchedBy:
                      description: matchedBy indicates how this cluster was matched
                        ("explicit" or "selector").
                      type: string
                    name:
                      description: name is the cluster name (from ClusterConfig).
                      type: string
                    ready:
                      description: ready indicates if the cluster is ready/reachable.
                      type: boolean
                  required:
                  - name
                  type: object
                type: array
              resolvedTemplates:
                description: resolvedTemplates lists the templates matched by this
                  binding.
                items:
                  description: ResolvedTemplateRef contains information about a resolved
                    template.
                  properties:
                    displayName:
                      description: displayName is the effective display name (may
                        include prefix from binding).
                      type: string
                    name:
                      description: name is the template name.
                      type: string
                    ready:
                      description: ready indicates if the template is ready for use.
                      type: boolean
                  required:
                  - name
                  type: object
                type: array
              totalSessionCount:
                description: totalSessionCount is the total number of sessions ever
                  created via this binding.
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
