# Test Escalation: Auto-Approval
# Escalation with minimal approval workflow for low-risk access
# Note: Approvers are still required by CRD validation, but this escalation
# is intended for low-risk scenarios where approval can be quick
apiVersion: breakglass.t-caas.telekom.com/v1alpha1
kind: BreakglassEscalation
metadata:
  name: test-auto-approval
  labels:
    e2e-test: "true"
spec:
  escalatedGroup: auto-approval-group
  maxValidFor: "30m"
  allowed:
    clusters:
      - tenant-a
    groups:
      - developers@example.com
  approvers:
    groups:
      - platform-admins@example.com
  permissions:
    - apiGroups: [""]
      resources: ["pods"]
      verbs: ["get", "list", "watch"]
    - apiGroups: [""]
      resources: ["pods/log"]
      verbs: ["get"]
      namespaces: ["default"]
