/*
SPDX-FileCopyrightText: 2025-2026 Deutsche Telekom AG

SPDX-License-Identifier: Apache-2.0
*/

// Code generated by controller-gen. DO NOT EDIT.

package v1alpha1

import (
	breakglassv1alpha1 "github.com/telekom/k8s-breakglass/api/v1alpha1"
)

// ClusterConfigSpecApplyConfiguration represents a declarative configuration of the ClusterConfigSpec type for use
// with apply.
//
// ClusterConfigSpec defines metadata and secret reference for a managed tenant cluster.
// This enables the hub (breakglass) instance to perform authorization checks (SAR) on the target cluster.
type ClusterConfigSpecApplyConfiguration struct {
	// clusterID is the canonical identifier of the cluster. Defaults to metadata.name if empty.
	ClusterID *string `json:"clusterID,omitempty"`
	// tenant override; if omitted tenant can be parsed from the clusterID.
	Tenant *string `json:"tenant,omitempty"`
	// environment (e.g. dev, staging, prod) override.
	Environment *string `json:"environment,omitempty"`
	// site override.
	Site *string `json:"site,omitempty"`
	// location / region override.
	Location *string `json:"location,omitempty"`
	// authType specifies the authentication method for connecting to the target cluster.
	// Defaults to "Kubeconfig" if kubeconfigSecretRef is specified, "OIDC" if oidcAuth is specified.
	AuthType *breakglassv1alpha1.ClusterAuthType `json:"authType,omitempty"`
	// kubeconfigSecretRef references a secret containing an admin-level kubeconfig for the target cluster.
	// Required when authType is "Kubeconfig". The referenced Secret MUST exist in the specified namespace and contain the key (default: "value", compatible with cluster-api).
	KubeconfigSecretRef *SecretKeyReferenceApplyConfiguration `json:"kubeconfigSecretRef,omitempty"`
	// oidcAuth configures OIDC-based authentication for the target cluster.
	// Required when authType is "OIDC" (unless oidcFromIdentityProvider is set).
	// Supports client credentials and token exchange flows.
	OIDCAuth *OIDCAuthConfigApplyConfiguration `json:"oidcAuth,omitempty"`
	// oidcFromIdentityProvider references an IdentityProvider to inherit OIDC configuration from.
	// When set, the cluster uses the referenced IdentityProvider's OIDC issuer URL and settings.
	// You must still provide clusterAPIServer and optionally clientSecretRef for controller authentication.
	// This is useful when the same OIDC provider is used for both user auth and cluster auth.
	// Mutually exclusive with oidcAuth.issuerURL - if both are set, oidcAuth.issuerURL takes precedence.
	OIDCFromIdentityProvider *OIDCFromIdentityProviderConfigApplyConfiguration `json:"oidcFromIdentityProvider,omitempty"`
	// qps configures the client QPS against the target cluster.
	QPS *int32 `json:"qps,omitempty"`
	// burst configures the client burst against the target cluster.
	Burst *int32 `json:"burst,omitempty"`
	// identityProviderRefs specifies which IdentityProvider CRs are allowed to authenticate for this cluster.
	// If empty or unset, all enabled IdentityProviders are accepted (backward compatible default).
	// If set, users must authenticate via one of the named providers.
	// Names should match the metadata.name of IdentityProvider resources.
	IdentityProviderRefs []string `json:"identityProviderRefs,omitempty"`
	// blockSelfApproval, if true, prevents users from self-approving their own breakglass sessions for this cluster.
	BlockSelfApproval *bool `json:"blockSelfApproval,omitempty"`
	// allowedApproverDomains restricts approvers to users whose email matches one of the listed domains (e.g. ["telekom.de", "t-systems.com"])
	// If set, an approver must have an email address ending with one of these domains.
	AllowedApproverDomains []string `json:"allowedApproverDomains,omitempty"`
	// mailProvider specifies which MailProvider to use for email notifications for this cluster.
	// If empty, falls back to the default MailProvider.
	MailProvider *string `json:"mailProvider,omitempty"`
	// userIdentifierClaim specifies which OIDC claim is used to identify users on this cluster.
	// This MUST match the `claimMappings.username.claim` configured on the target cluster's
	// Kubernetes API server OIDC configuration.
	// Common values: "email" (recommended), "preferred_username", "sub"
	// If not set, falls back to global config kubernetes.userIdentifierClaim.
	UserIdentifierClaim *breakglassv1alpha1.UserIdentifierClaimType `json:"userIdentifierClaim,omitempty"`
}

// ClusterConfigSpecApplyConfiguration constructs a declarative configuration of the ClusterConfigSpec type for use with
// apply.
func ClusterConfigSpec() *ClusterConfigSpecApplyConfiguration {
	return &ClusterConfigSpecApplyConfiguration{}
}

// WithClusterID sets the ClusterID field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the ClusterID field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithClusterID(value string) *ClusterConfigSpecApplyConfiguration {
	b.ClusterID = &value
	return b
}

// WithTenant sets the Tenant field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the Tenant field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithTenant(value string) *ClusterConfigSpecApplyConfiguration {
	b.Tenant = &value
	return b
}

// WithEnvironment sets the Environment field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the Environment field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithEnvironment(value string) *ClusterConfigSpecApplyConfiguration {
	b.Environment = &value
	return b
}

// WithSite sets the Site field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the Site field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithSite(value string) *ClusterConfigSpecApplyConfiguration {
	b.Site = &value
	return b
}

// WithLocation sets the Location field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the Location field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithLocation(value string) *ClusterConfigSpecApplyConfiguration {
	b.Location = &value
	return b
}

// WithAuthType sets the AuthType field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the AuthType field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithAuthType(value breakglassv1alpha1.ClusterAuthType) *ClusterConfigSpecApplyConfiguration {
	b.AuthType = &value
	return b
}

// WithKubeconfigSecretRef sets the KubeconfigSecretRef field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the KubeconfigSecretRef field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithKubeconfigSecretRef(value *SecretKeyReferenceApplyConfiguration) *ClusterConfigSpecApplyConfiguration {
	b.KubeconfigSecretRef = value
	return b
}

// WithOIDCAuth sets the OIDCAuth field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the OIDCAuth field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithOIDCAuth(value *OIDCAuthConfigApplyConfiguration) *ClusterConfigSpecApplyConfiguration {
	b.OIDCAuth = value
	return b
}

// WithOIDCFromIdentityProvider sets the OIDCFromIdentityProvider field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the OIDCFromIdentityProvider field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithOIDCFromIdentityProvider(value *OIDCFromIdentityProviderConfigApplyConfiguration) *ClusterConfigSpecApplyConfiguration {
	b.OIDCFromIdentityProvider = value
	return b
}

// WithQPS sets the QPS field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the QPS field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithQPS(value int32) *ClusterConfigSpecApplyConfiguration {
	b.QPS = &value
	return b
}

// WithBurst sets the Burst field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the Burst field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithBurst(value int32) *ClusterConfigSpecApplyConfiguration {
	b.Burst = &value
	return b
}

// WithIdentityProviderRefs adds the given value to the IdentityProviderRefs field in the declarative configuration
// and returns the receiver, so that objects can be build by chaining "With" function invocations.
// If called multiple times, values provided by each call will be appended to the IdentityProviderRefs field.
func (b *ClusterConfigSpecApplyConfiguration) WithIdentityProviderRefs(values ...string) *ClusterConfigSpecApplyConfiguration {
	for i := range values {
		b.IdentityProviderRefs = append(b.IdentityProviderRefs, values[i])
	}
	return b
}

// WithBlockSelfApproval sets the BlockSelfApproval field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the BlockSelfApproval field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithBlockSelfApproval(value bool) *ClusterConfigSpecApplyConfiguration {
	b.BlockSelfApproval = &value
	return b
}

// WithAllowedApproverDomains adds the given value to the AllowedApproverDomains field in the declarative configuration
// and returns the receiver, so that objects can be build by chaining "With" function invocations.
// If called multiple times, values provided by each call will be appended to the AllowedApproverDomains field.
func (b *ClusterConfigSpecApplyConfiguration) WithAllowedApproverDomains(values ...string) *ClusterConfigSpecApplyConfiguration {
	for i := range values {
		b.AllowedApproverDomains = append(b.AllowedApproverDomains, values[i])
	}
	return b
}

// WithMailProvider sets the MailProvider field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the MailProvider field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithMailProvider(value string) *ClusterConfigSpecApplyConfiguration {
	b.MailProvider = &value
	return b
}

// WithUserIdentifierClaim sets the UserIdentifierClaim field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the UserIdentifierClaim field is set to the value of the last call.
func (b *ClusterConfigSpecApplyConfiguration) WithUserIdentifierClaim(value breakglassv1alpha1.UserIdentifierClaimType) *ClusterConfigSpecApplyConfiguration {
	b.UserIdentifierClaim = &value
	return b
}
