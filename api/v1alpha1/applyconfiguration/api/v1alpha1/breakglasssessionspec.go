/*
Copyright 2026.

Here we can add license
*/

// Code generated by controller-gen. DO NOT EDIT.

package v1alpha1

import (
	v1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

// BreakglassSessionSpecApplyConfiguration represents a declarative configuration of the BreakglassSessionSpec type for use
// with apply.
//
// BreakglassSessionSpec defines the desired state of BreakglassSession.
type BreakglassSessionSpecApplyConfiguration struct {
	// cluster is the name of the cluster the session is valid for.
	Cluster *string `json:"cluster,omitempty"`
	// user is the name of the user the session is valid for.
	User *string `json:"user,omitempty"`
	// grantedGroup is the group granted by the session.
	GrantedGroup *string `json:"grantedGroup,omitempty"`
	// maxValidFor is the maximum amount of time the session will be active for after it is approved.
	MaxValidFor *string `json:"maxValidFor,omitempty"`
	// retainFor is the amount of time to wait before removing the session object after it was expired.
	RetainFor *string `json:"retainFor,omitempty"`
	// clusterConfigRef references the ClusterConfig object associated with this session (if different from spec.cluster parsing result).
	ClusterConfigRef *string `json:"clusterConfigRef,omitempty"`
	// denyPolicyRefs are names of DenyPolicy objects bound to this session.
	DenyPolicyRefs []string `json:"denyPolicyRefs,omitempty"`
	// requestReason stores the free-text reason supplied by the requester when creating the session.
	// This field is optional and may be populated depending on escalation configuration.
	RequestReason *string `json:"requestReason,omitempty"`
	// scheduledStartTime optionally specifies when this session should become active.
	// If not set or zero, session activates immediately upon approval.
	// Must be set to a future time if provided (validated by admission webhook).
	// Sessions in WaitingForScheduledTime state are not considered valid/active until this time is reached.
	ScheduledStartTime *v1.Time `json:"scheduledStartTime,omitempty"`
	// identityProviderName is the name of the IdentityProvider CR that authenticated the user.
	// Set during session creation based on the JWT issuer claim.
	// Used for auditing which IDP authenticated the user and for webhook authorization validation.
	IdentityProviderName *string `json:"identityProviderName,omitempty"`
	// identityProviderIssuer is the OIDC issuer URL (from JWT 'iss' claim) of the IDP that authenticated the user.
	// Set during session creation for validation and audit purposes.
	// Must match the IdentityProvider.spec.issuer of the provider that authenticated the user.
	// Used by webhook handler to validate the user's token is from the same IDP the session was created with.
	IdentityProviderIssuer *string `json:"identityProviderIssuer,omitempty"`
	// allowIDPMismatch indicates that this session should accept authorization requests from any IDP.
	// Set to true when both the cluster and escalation do NOT specify IDP requirements.
	// When false (default), the webhook will enforce that the requesting user's IDP matches
	// the IDP that created the session (via identityProviderIssuer matching).
	// This allows gradual migration to multi-IDP mode: sessions created before IDP tracking
	// can continue to work with any IDP until explicitly migrated.
	AllowIDPMismatch *bool `json:"allowIDPMismatch,omitempty"`
}

// BreakglassSessionSpecApplyConfiguration constructs a declarative configuration of the BreakglassSessionSpec type for use with
// apply.
func BreakglassSessionSpec() *BreakglassSessionSpecApplyConfiguration {
	return &BreakglassSessionSpecApplyConfiguration{}
}

// WithCluster sets the Cluster field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the Cluster field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithCluster(value string) *BreakglassSessionSpecApplyConfiguration {
	b.Cluster = &value
	return b
}

// WithUser sets the User field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the User field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithUser(value string) *BreakglassSessionSpecApplyConfiguration {
	b.User = &value
	return b
}

// WithGrantedGroup sets the GrantedGroup field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the GrantedGroup field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithGrantedGroup(value string) *BreakglassSessionSpecApplyConfiguration {
	b.GrantedGroup = &value
	return b
}

// WithMaxValidFor sets the MaxValidFor field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the MaxValidFor field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithMaxValidFor(value string) *BreakglassSessionSpecApplyConfiguration {
	b.MaxValidFor = &value
	return b
}

// WithRetainFor sets the RetainFor field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the RetainFor field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithRetainFor(value string) *BreakglassSessionSpecApplyConfiguration {
	b.RetainFor = &value
	return b
}

// WithClusterConfigRef sets the ClusterConfigRef field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the ClusterConfigRef field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithClusterConfigRef(value string) *BreakglassSessionSpecApplyConfiguration {
	b.ClusterConfigRef = &value
	return b
}

// WithDenyPolicyRefs adds the given value to the DenyPolicyRefs field in the declarative configuration
// and returns the receiver, so that objects can be build by chaining "With" function invocations.
// If called multiple times, values provided by each call will be appended to the DenyPolicyRefs field.
func (b *BreakglassSessionSpecApplyConfiguration) WithDenyPolicyRefs(values ...string) *BreakglassSessionSpecApplyConfiguration {
	for i := range values {
		b.DenyPolicyRefs = append(b.DenyPolicyRefs, values[i])
	}
	return b
}

// WithRequestReason sets the RequestReason field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the RequestReason field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithRequestReason(value string) *BreakglassSessionSpecApplyConfiguration {
	b.RequestReason = &value
	return b
}

// WithScheduledStartTime sets the ScheduledStartTime field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the ScheduledStartTime field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithScheduledStartTime(value v1.Time) *BreakglassSessionSpecApplyConfiguration {
	b.ScheduledStartTime = &value
	return b
}

// WithIdentityProviderName sets the IdentityProviderName field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the IdentityProviderName field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithIdentityProviderName(value string) *BreakglassSessionSpecApplyConfiguration {
	b.IdentityProviderName = &value
	return b
}

// WithIdentityProviderIssuer sets the IdentityProviderIssuer field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the IdentityProviderIssuer field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithIdentityProviderIssuer(value string) *BreakglassSessionSpecApplyConfiguration {
	b.IdentityProviderIssuer = &value
	return b
}

// WithAllowIDPMismatch sets the AllowIDPMismatch field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the AllowIDPMismatch field is set to the value of the last call.
func (b *BreakglassSessionSpecApplyConfiguration) WithAllowIDPMismatch(value bool) *BreakglassSessionSpecApplyConfiguration {
	b.AllowIDPMismatch = &value
	return b
}
